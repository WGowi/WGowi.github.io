<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Numpyä¹‹çŸ©é˜µçš„å †å ä¸Žæ‹†åˆ†]]></title>
    <url>%2F2019%2F09%2F10%2FNumpy%E4%B9%8B%E7%9F%A9%E9%98%B5%E7%9A%84%E5%A0%86%E5%8F%A0%E4%B8%8E%E6%8B%86%E5%88%86%2F</url>
    <content type="text"><![CDATA[Numpyä¹‹çŸ©é˜µçš„å †å ä¸Žæ‹†åˆ†çŸ©é˜µçš„å †å stack åŽŸåž‹ï¼šnumpy.stack(arrary a, axis=0) åŠŸèƒ½ï¼šçŸ©é˜µå †å æ‰©å±•1ä¸ªç»´åº¦ ä»£ç å®žçŽ°123456789101112131415161718192021import numpy as npa=[[1,2,3], [4,5,6]]b=[[1,2,3], [4,5,6]]c=[[1,2,3], [4,5,6]]print("a=",a)print("b=",b)print("c=",c)print("å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º0")d=np.stack((a,b,c),axis=0)print(d)print("å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º1")d=np.stack((a,b,c),axis=1)print(d)print("å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º2")d=np.stack((a,b,c),axis=2)print(d) è¾“å‡º 12345678910111213141516171819202122232425262728a= [[1, 2, 3], [4, 5, 6]]b= [[1, 2, 3], [4, 5, 6]]c= [[1, 2, 3], [4, 5, 6]]å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º0[[[1 2 3] [4 5 6]] [[1 2 3] [4 5 6]] [[1 2 3] [4 5 6]]]å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º1[[[1 2 3] [1 2 3] [1 2 3]] [[4 5 6] [4 5 6] [4 5 6]]]å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º2[[[1 1 1] [2 2 2] [3 3 3]] [[4 4 4] [5 5 5] [6 6 6]]] 123456789101112131415import numpy as npa=[1,2,3,4]b=[5,6,7,8]c=[9,10,11,12]print("a=",a)print("b=",b)print("c=",c)print("å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º0")d=np.stack((a,b,c),axis=0)print(d)print("å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º1")d=np.stack((a,b,c),axis=1)print(d) 123456789101112a= [1, 2, 3, 4]b= [5, 6, 7, 8]c= [9, 10, 11, 12]å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º0[[ 1 2 3 4] [ 5 6 7 8] [ 9 10 11 12]]å¢žåŠ ä¸€ç»´ï¼Œæ–°ç»´åº¦çš„ä¸‹æ ‡ä¸º1[[ 1 5 9] [ 2 6 10] [ 3 7 11] [ 4 8 12]] vstack åŽŸåž‹ï¼šnumpy.vstack(array a, array b) åŠŸèƒ½ï¼šæŠŠbçŸ©é˜µåœ¨açš„åŸºç¡€ä¸Šæ‰©å……è¡Œ ä»£ç å®žçŽ°123456789import numpy as npa = np.floor(10*np.random.random((3, 3)))print(a)print("=================")b = np.floor(10*np.random.random((3, 3)))print(b)print("=================")print(np.vstack((a, b))) è¾“å‡º 1234567891011121314[[6. 8. 3.] [8. 7. 3.] [2. 4. 4.]]=================[[3. 9. 3.] [1. 3. 9.] [1. 8. 4.]]=================[[6. 8. 3.] [8. 7. 3.] [2. 4. 4.] [3. 9. 3.] [1. 3. 9.] [1. 8. 4.]] hstack åŽŸåž‹ï¼šnumpy.hstack(array a, array b) åŠŸèƒ½ï¼šæŠŠbçŸ©é˜µåœ¨açš„åŸºç¡€ä¸Šæ‰©å……åˆ— ä»£ç å®žçŽ°123456789import numpy as npa = np.floor(10*np.random.random((3, 3)))print(a)print("=================")b = np.floor(10*np.random.random((3, 3)))print(b)print("=================")print(np.hstack((a, b))) è¾“å‡º 1234567891011[[6. 8. 3.] [8. 7. 3.] [2. 4. 4.]]=================[[3. 9. 3.] [1. 3. 9.] [1. 8. 4.]]=================[[6. 8. 3. 3. 9. 3.] [8. 7. 3. 1. 3. 9.] [2. 4. 4. 1. 8. 4.]] column_stack åŽŸåž‹ï¼šnumpy.column_stack(array a) åŠŸèƒ½ï¼šå°†ä¸€ç»´çŸ©é˜µä½œä¸ºåˆ—å †å æˆäºŒç»´çŸ©é˜µ ä»£ç å®žçŽ°1234567891011121314151617181920212223import numpy as npfrom numpy import newaxisa = np.floor(10*np.random.random((3, 3)))print(a)print("=================")b = np.floor(10*np.random.random((3, 3)))print(b)print("=================")print(np.column_stack((a, b)))print("=================")a = np.array([4., 2.])b = np.array([3., 8.])print(np.column_stack((a, b)))print("=================")print(a[:, newaxis])print("=================")print(b[:, newaxis])print("=================")print(np.column_stack((a[:, newaxis], b[:, newaxis])))print("=================")print(np.hstack((a[:, newaxis], b[:, newaxis])))print("=================") è¾“å‡º 123456789101112131415161718192021222324252627[[3. 5. 6.] [3. 2. 4.] [6. 3. 5.]]=================[[2. 2. 0.] [0. 3. 5.] [7. 4. 7.]]=================[[3. 5. 6. 2. 2. 0.] [3. 2. 4. 0. 3. 5.] [6. 3. 5. 7. 4. 7.]]=================[[4. 3.] [2. 8.]]=================[[4.] [2.]]=================[[3.] [8.]]=================[[4. 3.] [2. 8.]]=================[[4. 3.] [2. 8.]]================= çŸ©é˜µçš„æ‹†åˆ†hsplit åŽŸåž‹ï¼šnumpy.hsplit(ary, indices_or_sections) åŠŸèƒ½ï¼šå°†æ•°ç»„æ‹†åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„å­æ•°ç»„ã€‚ä½¿ç”¨hsplitï¼Œé€šè¿‡æŒ‡å®šè¦è¿”å›žçš„ç›¸åŒshapeçš„arrayçš„æ•°é‡ï¼Œæˆ–è€…é€šè¿‡æŒ‡å®šåˆ†å‰²åº”è¯¥å‘ç”Ÿä¹‹åŽçš„åˆ—æ¥æ²¿ç€å…¶æ¨ªè½´æ‹†åˆ†åŽŸarray ä»£ç å®žçŽ°12345678import numpy as npx = np.arange(16.0).reshape(4, 4)print(x)print("=================")print(np.hsplit(x, 2))print("=================")print(np.hsplit(x, np.array([3, 6]))) è¾“å‡º 1234567891011121314151617181920[[ 0. 1. 2. 3.] [ 4. 5. 6. 7.] [ 8. 9. 10. 11.] [12. 13. 14. 15.]]=================[array([[ 0., 1.], [ 4., 5.], [ 8., 9.], [12., 13.]]), array([[ 2., 3.], [ 6., 7.], [10., 11.], [14., 15.]])]=================[array([[ 0., 1., 2.], [ 4., 5., 6.], [ 8., 9., 10.], [12., 13., 14.]]), array([[ 3.], [ 7.], [11.], [15.]]), array([], shape=(4, 0), dtype=float64)] vstack åŽŸåž‹ï¼šnumpy.vstack(ary, indices_or_sections) åŠŸèƒ½ï¼švsplitæ²¿ç€åž‚ç›´è½´åˆ†å‰²ï¼Œå…¶åˆ†å‰²æ–¹å¼ä¸Žhsplitç”¨æ³•ç›¸åŒã€‚ ä»£ç å®žçŽ°12345678import numpy as npx = np.arange(16.0).reshape(4, 4)print(x)print("=================")print(np.vsplit(x, 2))print("=================")print(np.vsplit(x, np.array([3, 6]))) è¾“å‡º 123456789101112[[ 0. 1. 2. 3.] [ 4. 5. 6. 7.] [ 8. 9. 10. 11.] [12. 13. 14. 15.]]=================[array([[0., 1., 2., 3.], [4., 5., 6., 7.]]), array([[ 8., 9., 10., 11.], [12., 13., 14., 15.]])]=================[array([[ 0., 1., 2., 3.], [ 4., 5., 6., 7.], [ 8., 9., 10., 11.]]), array([[12., 13., 14., 15.]]), array([], shape=(0, 4), dtype=float64)]]]></content>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆNumpyçš„shapeå’Œreshape]]></title>
    <url>%2F2019%2F09%2F10%2F%E6%B5%85%E8%B0%88Numpy%E7%9A%84shape%E5%92%8Creshape%2F</url>
    <content type="text"><![CDATA[æµ…è°ˆNumpyçš„shapeå’Œreshape@[toc] shape åŽŸåž‹ï¼šnumpy.shape(array) shape æ˜¯ arrayçš„ä¸€ä¸ªå±žæ€§ï¼Œå®ƒèƒ½èŽ·å–çŸ©é˜µçš„è¡Œåˆ—çš„ç»´åº¦ 123456import numpy as nparray1 = np.array([[1,2,3],[4,5,6]])print(array1.shape)array2 = np.array([[2,4],[6,8],[0,12]])print(np.shape(array2)) è¾“å‡º 12(2, 3)(3, 2) reshape åŽŸåž‹ï¼šnumpy.reshape(array,newshape,order=â€™câ€™) arrayï¼šåŽŸçŸ©é˜µ newshapeï¼šæ•´æ•°å€¼æˆ–æ•´æ•°å…ƒç»„ã€‚æ–°çš„å½¢çŠ¶åº”è¯¥å…¼å®¹äºŽåŽŸå§‹å½¢çŠ¶ã€‚å¦‚æžœæ˜¯ä¸€ä¸ªæ•´æ•°å€¼ï¼Œè¡¨ç¤ºä¸€ä¸ªä¸€ç»´æ•°ç»„çš„é•¿åº¦ï¼›å¦‚æžœæ˜¯å…ƒç»„ï¼Œè¡¨ç¤ºæ–°æ•°ç»„çš„è¡Œå’Œåˆ—æ•°ï¼Œä¸€ä¸ªå…ƒç´ å€¼å¯ä»¥ä¸º-1ï¼Œæ­¤æ—¶è¯¥å…ƒç´ å€¼è¡¨ç¤ºä¸ºæŒ‡å®šï¼Œæ­¤æ—¶ä¼šä»Žæ•°ç»„çš„é•¿åº¦å’Œå‰©ä½™çš„ç»´åº¦ä¸­æŽ¨æ–­å‡º orderï¼š {â€˜Câ€™ï¼Œâ€™Fâ€™ï¼Œâ€™Aâ€™}ï¼Œå¯é€‰ä½¿ç”¨æ­¤ç´¢å¼•é¡ºåºè¯»å–açš„å…ƒç´ ï¼Œå¹¶ä½¿ç”¨æ­¤ç´¢å¼•é¡ºåºå°†å…ƒç´ æ”¾å…¥reshape dæ•°ç»„ä¸­ã€‚â€œCâ€è¡¨ç¤ºä½¿ç”¨ç±»ä¼¼Cçš„ç´¢å¼•é¡ºåºè¯»å–/å†™å…¥å…ƒç´ ï¼Œæœ€åŽä¸€ä¸ªè½´ç´¢å¼•å˜åŒ–æœ€å¿«ï¼Œè¿”å›žåˆ°ç¬¬ä¸€ä¸ªè½´ç´¢å¼•å˜åŒ–æœ€æ…¢ã€‚â€™Fâ€™è¡¨ç¤ºä½¿ç”¨ç±»ä¼¼Fortrançš„ç´¢å¼•é¡ºåºè¯»/å†™å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªç´¢å¼•å˜åŒ–æœ€å¿«ï¼Œæœ€åŽä¸€ä¸ªç´¢å¼•å˜åŒ–æœ€æ…¢ã€‚è¯·æ³¨æ„ï¼Œâ€œCâ€å’Œâ€œFâ€é€‰é¡¹ä¸è€ƒè™‘åº•å±‚æ•°ç»„çš„å†…å­˜å¸ƒå±€ï¼Œåªæ¶‰åŠç´¢å¼•çš„é¡ºåºã€‚â€™Aâ€™è¡¨ç¤ºä»¥ç±»ä¼¼Fortrançš„ç´¢å¼•é¡ºåºè¯»å–/å†™å…¥å…ƒç´ ï¼Œå¦‚æžœaåœ¨å†…å­˜ä¸­æ˜¯Fortran è¿žç»­çš„ï¼Œå¦åˆ™æ˜¯C-likeé¡ºåºã€‚ 12345import numpy as nparray = np.array([[2,4],[6,8],[0,12]])print(array)print(array.reshape((2, 3)))print(array) è¾“å‡º 12345678 [[ 2 4] [ 6 8] [ 0 12]][[ 2 4 6] [ 8 0 12]][[ 2 4] [ 6 8] [ 0 12]]]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹é¼ æ ‡äº‹ä»¶]]></title>
    <url>%2F2019%2F08%2F31%2FOpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹é¼ æ ‡äº‹ä»¶ðŸ–±é¼ æ ‡ï¸äº‹ä»¶ EVENT_MOUSEMOVE 0 #æ»‘åŠ¨ EVENT_LBUTTONDOWN 1 #å·¦é”®ç‚¹å‡» EVENT_RBUTTONDOWN 2 #å³é”®ç‚¹å‡» EVENT_MBUTTONDOWN 3 #ä¸­é”®ç‚¹å‡» EVENT_LBUTTONUP 4 #å·¦é”®æ”¾å¼€ EVENT_RBUTTONUP 5 #å³é”®æ”¾å¼€ EVENT_MBUTTONUP 6 #ä¸­é”®æ”¾å¼€ EVENT_LBUTTONDBLCLK 7 #å·¦é”®åŒå‡» EVENT_RBUTTONDBLCLK 8 #å³é”®åŒå‡» EVENT_MBUTTONDBLCLK 9 #ä¸­é”®åŒå‡» å‡½æ•° setMouseCallbackï¼ˆwinname,onMouse,userdataï¼‰ winname çª—å£åç§° onMouse é¼ æ ‡äº‹ä»¶çš„å›žè°ƒå‡½æ•°ã€‚æœ‰å…³å¦‚ä½•æŒ‡å®šå’Œä½¿ç”¨å›žè°ƒçš„ä¿¡æ¯ userdata ä¼ é€’ç»™å›žè°ƒçš„å¯é€‰å‚æ•° ä»£ç å®žçŽ°12345678910111213141516171819202122232425262728293031323334353637383940414243444546# coding:utf-8import cv2import numpy as npdrawing = False # å¦‚æžœæŒ‰ä¸‹é¼ æ ‡ï¼Œåˆ™ä¸ºtruemode = True # å¦‚æžœä¸ºTrueï¼Œåˆ™ç»˜åˆ¶çŸ©å½¢ã€‚æŒ‰'m'åˆ‡æ¢åˆ°æ›²çº¿ix = -1iy = -1def draw(event, x, y, flag, parm): global ix, iy, drawing, mode if event == cv2.EVENT_LBUTTONDOWN: drawing = True ix = x iy = y elif event == cv2.EVENT_MOUSEMOVE: if drawing: if mode: cv2.rectangle(img, (ix, iy), (x, y), (0, 255, 0), -1) else: cv2.circle(img, (ix, iy), 50, (0, 0, 255), -1) elif event == cv2.EVENT_LBUTTONUP: drawing = False if mode: cv2.rectangle(img, (ix, iy), (x, y), (0, 255, 0), -1) else: cv2.circle(img, (ix, iy), 50, (0, 0, 255), -1)img = np.zeros((512, 512, 3), np.uint8)cv2.namedWindow('image')cv2.setMouseCallback('image', draw)while True: cv2.imshow('image', img) k = cv2.waitKey(1) &amp; 0xff if k == ord('m'): mode = not mode elif k == 27: breakcv2.destroyAllWindows()]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹ç®€å•çš„ç»˜å›¾æ“ä½œ]]></title>
    <url>%2F2019%2F08%2F23%2FOpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E7%AE%80%E5%8D%95%E7%9A%84%E7%BB%98%E5%9B%BE%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹ç®€å•çš„ç»˜å›¾æ“ä½œline()åŽŸåž‹ï¼š img=cv2.line(img, pt1, pt2, color[, thickness[, lineType[, shift]]]) å‚æ•° img å›¾ç‰‡ pt1 çº¿æ®µçš„ç¬¬ä¸€ç‚¹ pt2 çº¿æ®µçš„ç¬¬äºŒç‚¹ color çº¿æ¡é¢œè‰² thickness çº¿çš„ç²—ç»† lineType çº¿çš„ç±»åž‹ shift ç‚¹åæ ‡ä¸­çš„å°æ•°ä½æ•° 123456789101112import cv2import numpy as npimg = np.zeros((512, 512, 3), np.uint8)cv2.line(img, (0, 0), (511, 511), (255, 0, 0), 5)while True: cv2.imshow('image', img) if cv2.waitKey(1) == 27: breakcv2.destroyAllWindows() rectangle()åŽŸåž‹ï¼š img =cv2.rectangle(img, pt1, pt2, color[, thickness[, lineType[, shift]]]) img =cv2.rectangle(img, rec, color[, thickness[, lineType[, shift]]]) Parameters img å›¾ç‰‡ pt1 çŸ©å½¢çš„é¡¶ç‚¹ pt2 çŸ©å½¢çš„é¡¶ç‚¹ä¸Žpt1ç›¸å¯¹ color çŸ©å½¢é¢œè‰²æˆ–äº®åº¦ï¼ˆç°åº¦å›¾åƒï¼‰ thickness æž„æˆçŸ©å½¢çš„çº¿æ¡çš„ç²—ç»†ã€‚è´Ÿå€¼ï¼ˆå¦‚FILLEDï¼‰è¡¨ç¤ºå‡½æ•°å¿…é¡»ç»˜åˆ¶å¡«å……çŸ©å½¢ lineType çº¿çš„ç±»åž‹ã€‚è¯·å‚è§LineTypes 12345678910111213import cv2import numpy as npimg = np.zeros((512, 512, 3), np.uint8)cv2.line(img, (0, 0), (511, 511), (255, 0, 0), 5)cv2.rectangle(img, (384, 0), (510, 128), (0, 255, 0), 3)while True: cv2.imshow('image', img) if cv2.waitKey(1) == 27: breakcv2.destroyAllWindows() circle()åŽŸåž‹ï¼š img = cv2.circle(img, center, radius, color[, thickness[, lineType[, shift]]] ) Parameters img ç»˜åˆ¶åœ†çš„å›¾åƒ center åœ†å¿ƒ radius åœ†çš„åŠå¾„ color åœ†å½¢é¢œè‰² thickness åœ†å½¢è½®å»“çš„åŽšåº¦ï¼Œå¦‚æžœæ˜¯æ­£çš„ã€‚è´Ÿå€¼ï¼ˆå¦‚FILLEDï¼‰è¡¨ç¤ºè¦ç»˜åˆ¶å®žå¿ƒåœ†ã€‚ lineType åœ†è¾¹ç•Œçš„ç±»åž‹ã€‚è¯·å‚è§LineTypes shift ä¸­å¿ƒåæ ‡å’ŒåŠå¾„å€¼ä¸­çš„å°æ•°ä½æ•° 123456789101112131415import cv2import numpy as npimg = np.zeros((512, 512, 3), np.uint8)cv2.line(img, (0, 0), (511, 511), (255, 0, 0), 5)cv2.rectangle(img, (384, 0), (510, 128), (0, 255, 0), 3)cv2.circle(img, (447, 63), 63, (0, 0, 255), 3)while True: cv2.imshow('image', img) if cv2.waitKey(1) == 27: breakcv2.destroyAllWindows() elipse()åŽŸåž‹ï¼š img =cv2.ellipse(img, center, axes, angle, startAngle, endAngle, color[, thickness[, lineType[, shift]]]) img =cv2.ellipse(img, box, color[, thickness[, lineType]]) Parameters img å›¾ç‰‡ center æ¤­åœ†çš„ä¸­å¿ƒ axes æ¤­åœ†ä¸»è½´å¤§å°çš„ä¸€åŠ angle æ¤­åœ†æ—‹è½¬è§’åº¦ï¼ˆä»¥åº¦ä¸ºå•ä½) startAngle æ¤­åœ†å¼§çš„èµ·å§‹è§’åº¦ï¼ˆä»¥åº¦ä¸ºå•ä½) endAngle æ¤­åœ†é¢œè‰² color æ¤­åœ†å¼§çš„è½®å»“ç²—ç»†ï¼Œå¦‚æžœæ˜¯æ­£çš„ã€‚å¦åˆ™ï¼Œè¿™è¡¨ç¤ºå°†ç»˜åˆ¶å¡«å……çš„æ¤­åœ†æ‰‡åŒº thickness æ¤­åœ†å¼§çš„è½®å»“ç²—ç»†ï¼Œå¦‚æžœæ˜¯æ­£çš„ã€‚å¦åˆ™ï¼Œè¿™è¡¨ç¤ºå°†ç»˜åˆ¶å¡«å……çš„æ¤­åœ†æ‰‡åŒºã€‚ lineType æ¤­åœ†è¾¹ç•Œçš„ç±»åž‹ã€‚è¯·å‚è§LineTypes shift ä¸­å¿ƒåæ ‡å’Œè½´å€¼çš„å°æ•°ä½æ•° 12345678910111213141516import cv2import numpy as npimg = np.zeros((512, 512, 3), np.uint8)cv2.line(img, (0, 0), (511, 511), (255, 0, 0), 5)cv2.rectangle(img, (384, 0), (510, 128), (0, 255, 0), 3)cv2.circle(img, (447, 63), 63, (0, 0, 255), 3)cv2.ellipse(img, (256, 256), (100, 50), 0, 0, 180, 255, -1)while True: cv2.imshow('image', img) if cv2.waitKey(1) == 27: breakcv2.destroyAllWindows() ploylines()åŽŸåž‹ï¼š img=cv2.polylines(img, pts, isClosed, color[, thickness[, lineType[, shift]]]) Parameters img å›¾ç‰‡ pts å¤šè¾¹å½¢æ›²çº¿çš„æ•°ç»„ isClosed æŒ‡ç¤ºç»˜åˆ¶çš„æŠ˜çº¿æ˜¯å¦å…³é—­çš„æ ‡è®°ã€‚å¦‚æžœå®ƒä»¬è¢«å…³é—­ï¼Œåˆ™è¯¥å‡½æ•°ä»Žæ¯æ¡æ›²çº¿çš„æœ€åŽä¸€ä¸ªé¡¶ç‚¹åˆ°å…¶ç¬¬ä¸€ä¸ªé¡¶ç‚¹ç»˜åˆ¶ä¸€æ¡çº¿ color æŠ˜çº¿é¢œè‰² thickness æŠ˜çº¿è¾¹ç¼˜çš„åŽšåº¦ lineType çº¿æ®µçš„ç±»åž‹ è¯·å‚è§LineTypes shift é¡¶ç‚¹åæ ‡ä¸­çš„å°æ•°ä½æ•° 1234567891011121314151617181920import cv2import numpy as npimg = np.zeros((512, 512, 3), np.uint8)cv2.line(img, (0, 0), (511, 511), (255, 0, 0), 5)cv2.rectangle(img, (384, 0), (510, 128), (0, 255, 0), 3)cv2.circle(img, (447, 63), 63, (0, 0, 255), 3)cv2.ellipse(img, (256, 256), (100, 50), 0, 0, 180, 255, -1)pts = np.array([[10, 5], [20, 30], [70, 20], [50, 10]], np.int32)pts = pts.reshape((-1, 1, 2))cv2.polylines(img, [pts], True, (0,255,255))while True: cv2.imshow('image', img) if cv2.waitKey(1) == 27: breakcv2.destroyAllWindows() putText()åŽŸåž‹ï¼š img = cv.putText(img, text, org, fontFace, fontScale, color[, thickness[, lineType[, bottomLeftOrigin]]]) img å›¾ç‰‡ text è¦ç»˜åˆ¶çš„æ–‡æœ¬å­—ç¬¦ä¸² org å›¾åƒä¸­æ–‡æœ¬å­—ç¬¦ä¸²çš„å·¦ä¸‹è§’ fontFace å­—ä½“ç±»åž‹ fontScale å­—ä½“æ¯”ä¾‹å› å­ä¹˜ä»¥å­—ä½“ç‰¹å®šçš„åŸºæœ¬å¤§å° color æ–‡å­—é¢œè‰² thickness ç”¨äºŽç»˜åˆ¶æ–‡æœ¬çš„çº¿æ¡çš„ç²—ç»† lineType çº¿åž‹ bottomLeftOrigin å¦‚æžœä¸ºtrueï¼Œåˆ™å›¾åƒæ•°æ®åŽŸç‚¹ä½äºŽå·¦ä¸‹è§’ã€‚å¦åˆ™ï¼Œå®ƒä½äºŽå·¦ä¸Šè§’ã€‚ 1234567891011121314151617181920212223import cv2import numpy as npimg = np.zeros((512, 512, 3), np.uint8)cv2.line(img, (0, 0), (511, 511), (255, 0, 0), 5)cv2.rectangle(img, (384, 0), (510, 128), (0, 255, 0), 3)cv2.circle(img, (447, 63), 63, (0, 0, 255), 3)cv2.ellipse(img, (256, 256), (100, 50), 0, 0, 180, 255, -1)pts = np.array([[10, 5], [20, 30], [70, 20], [50, 10]], np.int32)pts = pts.reshape((-1, 1, 2))cv2.polylines(img, [pts], True, (0,255,255))font = cv2.FONT_HERSHEY_COMPLEXcv2.putText(img, 'OpenCV', (10, 500), font, 4, (255, 255, 255), 2, cv2.LINE_AA)while True: cv2.imshow('image', img) if cv2.waitKey(1) == 27: breakcv2.destroyAllWindows()]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹å›¾ç‰‡çš„èžåˆ]]></title>
    <url>%2F2019%2F08%2F18%2FOpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%9B%BE%E7%89%87%E7%9A%84%E8%9E%8D%E5%90%88%2F</url>
    <content type="text"><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹å›¾ç‰‡çš„èžåˆæ–¹æ³•cv2.resize() https://wgowi.github.io/2019/08/18/OpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%9B%BE%E7%89%87%E7%9A%84%E4%BC%B8%E7%BC%A9%E5%8F%98%E6%8D%A2/#more cv2.addWeighted(img1, x, img2, y, 0) æŠŠimg1ä¸Žimg2æŒ‰xyçš„æ¯”é‡èžåˆ cv2.add(img1,img2) å°†img1ä¸Žimg2æŒ‰1:1èžåˆ ä»£ç å®žçŽ°1234567891011121314151617181920import cv2img1 = cv2.imread('a.jpg')img2 = cv2.imread('cv.jpg')img3 = cv2.resize(img1, (400, 400))img4 = cv2.resize(img2, (400, 400))img5 = cv2.addWeighted(img3, 0.5, img4, 0.5, 0)img6 = cv2.add(img3,img4)img7 = cv2.addWeighted(img4, 1, img3, 1, 0)cv2.imshow('img5', img5)cv2.imshow('img6', img6)cv2.imshow('img7', img7)while True: if cv2.waitKey(1) == 27: breakcv2.destroyAllWindows() ç”±æ­¤å¯çŸ¥cv2.addweighted()img1å’Œimg2çš„æ¯”é‡éƒ½ä¸º1æ—¶ä¸Žcv2.add()ç›¸åŒ]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹å›¾ç‰‡çš„ä¼¸ç¼©å˜æ¢]]></title>
    <url>%2F2019%2F08%2F18%2FOpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%9B%BE%E7%89%87%E7%9A%84%E4%BC%B8%E7%BC%A9%E5%8F%98%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹å›¾ç‰‡çš„ä¼¸ç¼©å˜æ¢æ–¹æ³• cv2.resize(InputArray src, OutputArray dst, Size, fx, fy, interpolation) å‚æ•°ï¼š InputArray srcï¼šè¾“å…¥å›¾ç‰‡ OutputArray dstï¼šè¾“å‡ºå›¾ç‰‡ Sizeï¼šè¾“å‡ºå›¾ç‰‡å°ºå¯¸ fx, fyï¼š æ²¿xè½´ï¼Œyè½´çš„ç¼©æ”¾ç³»æ•° interpolationï¼š æ’å…¥æ–¹å¼ interpolationï¼š é€‰é¡¹æ‰€ç”¨çš„æ’å€¼æ–¹æ³•ï¼š INTER_NEARESTï¼šæœ€è¿‘é‚»æ’å€¼ INTER_LINEARï¼šåŒçº¿æ€§æ’å€¼ï¼ˆé»˜è®¤è®¾ç½®ï¼‰ INTER_AREAï¼šä½¿ç”¨åƒç´ åŒºåŸŸå…³ç³»è¿›è¡Œé‡é‡‡æ ·ã€‚ INTER_CUBICï¼š4x4åƒç´ é‚»åŸŸçš„åŒä¸‰æ¬¡æ’å€¼ INTER_LANCZOS4ï¼š8x8åƒç´ é‚»åŸŸçš„Lanczosæ’å€¼ ä»£ç å®žçŽ° 12345678910111213141516 import cv2img0 = cv2.imread('a.jpg')img1 = cv2.resize(img0, (600, 400), interpolation=cv2.INTER_NEAREST)img2 = cv2.resize(img0, (0,0),fx=0.1, fy=0.1, interpolation=cv2.INTER_NEAREST)img3 = cv2.resize(img2,(0,0),fx=2,fy=2, interpolation=cv2.INTER_NEAREST)cv2.imshow('img0',img0)cv2.imshow('img1',img1)cv2.imshow('img2',img2)cv2.imshow('img3',img3)while (True): if cv2.waitKey(0) == 27: breakcv2.destroyAllWindows()]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹ä½è¿ç®—ä¸ŽæŽ©è†œ]]></title>
    <url>%2F2019%2F08%2F18%2FOpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E4%BD%8D%E8%BF%90%E7%AE%97%E4%B8%8E%E6%8E%A9%E8%86%9C%2F</url>
    <content type="text"><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹ä½è¿ç®—ä¸ŽæŽ©è†œä½è¿ç®— ç”±äºŽå›¾ç‰‡æ˜¯æœ‰ä¸€ä¸ªä¸ª0å’Œ1ç»„æˆçš„ï¼Œæ‰€ä»¥OpenCVä¸­å¯¹å›¾åƒä¹Ÿæ”¯æŒä¸ºè¿ç®—ï¼ˆä¸Žæˆ–éžç­‰ï¼‰ 1234dst = cv2.bitwise_and(src1ï¼Œsrc2[ï¼Œdst[ï¼Œmask]])dst = cv2.bitwise_not(src[, dst[, mask]])dst = cv2.bitwise_or(src1, src2[, dst[, mask]])dst = cv2.bitwise_xor(src1, src2[, dst[, mask]]) bitwise_andæ˜¯å¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œâ€œä¸Žâ€æ“ä½œï¼Œå³å¯¹å›¾åƒï¼ˆç°åº¦å›¾åƒæˆ–å½©è‰²å›¾åƒå‡å¯ï¼‰æ¯ä¸ªåƒç´ å€¼è¿›è¡ŒäºŒè¿›åˆ¶â€œä¸Žâ€æ“ä½œï¼Œ1&1=1ï¼Œ1&0=0ï¼Œ0&1=0ï¼Œ0&0=0 bitwise_oræ˜¯å¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œâ€œæˆ–â€æ“ä½œï¼Œå³å¯¹å›¾åƒï¼ˆç°åº¦å›¾åƒæˆ–å½©è‰²å›¾åƒå‡å¯ï¼‰æ¯ä¸ªåƒç´ å€¼è¿›è¡ŒäºŒè¿›åˆ¶â€œæˆ–â€æ“ä½œï¼Œ1|1=1ï¼Œ1|0=0ï¼Œ0|1=0ï¼Œ0|0=0 bitwise_xoræ˜¯å¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œâ€œå¼‚æˆ–â€æ“ä½œï¼Œå³å¯¹å›¾åƒï¼ˆç°åº¦å›¾åƒæˆ–å½©è‰²å›¾åƒå‡å¯ï¼‰æ¯ä¸ªåƒç´ å€¼è¿›è¡ŒäºŒè¿›åˆ¶â€œå¼‚æˆ–â€æ“ä½œï¼Œ1^1=0,1^0=1,0^1=1,0^0=0 bitwise_notæ˜¯å¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œâ€œéžâ€æ“ä½œï¼Œå³å¯¹å›¾åƒï¼ˆç°åº¦å›¾åƒæˆ–å½©è‰²å›¾åƒå‡å¯ï¼‰æ¯ä¸ªåƒç´ å€¼è¿›è¡ŒäºŒè¿›åˆ¶â€œéžâ€æ“ä½œï¼Œ1=0ï¼Œ0=1 123456789101112131415161718192021222324252627282930313233import numpy as npimport cv2img = cv2.imread('cv.jpg')# cv2.imshow('image',img)rectangle = np.zeros(img.shape[0:2], dtype='uint8')cv2.rectangle(rectangle, (25, 25), (275, 275), 255, -1)cv2.imshow('rectangle', rectangle)circle = np.zeros(img.shape[0:2], dtype='uint8')cv2.circle(circle, (150, 150), 150, 255, -1)cv2.imshow('circle', circle)bit_and = cv2.bitwise_and(rectangle, circle)cv2.imshow('and', bit_and)bit_or = cv2.bitwise_or(rectangle, circle)cv2.imshow('or', bit_or)bit_xor = cv2.bitwise_xor(rectangle, circle)cv2.imshow('xor', bit_xor)bit_not1 = cv2.bitwise_not(rectangle)cv2.imshow('not1', bit_not1)bit_not2 = cv2.bitwise_not(circle)cv2.imshow('not2', bit_not2)while (True): if cv2.waitKey(0)==27: breakcv2.destroyAllWindows() æŽ©è†œç”¨é€‰å®šçš„å›¾åƒã€å›¾å½¢æˆ–ç‰©ä½“ï¼Œå¯¹å¤„ç†çš„å›¾åƒï¼ˆå…¨éƒ¨æˆ–å±€éƒ¨ï¼‰è¿›è¡Œé®æŒ¡ï¼Œæ¥æŽ§åˆ¶å›¾åƒå¤„ç†çš„åŒºåŸŸæˆ–å¤„ç†è¿‡ç¨‹ã€‚ç”¨äºŽè¦†ç›–çš„ç‰¹å®šå›¾åƒæˆ–ç‰©ä½“ç§°ä¸ºæŽ©æ¨¡æˆ–æ¨¡æ¿ã€‚å…‰å­¦å›¾åƒå¤„ç†ä¸­,æŽ©æ¨¡å¯ä»¥æ˜¯èƒ¶ç‰‡ã€æ»¤å…‰ç‰‡ç­‰ã€‚æ•°å­—å›¾åƒå¤„ç†ä¸­,æŽ©æ¨¡ä¸ºäºŒç»´çŸ©é˜µæ•°ç»„,æœ‰æ—¶ä¹Ÿç”¨å¤šå€¼å›¾åƒã€‚ æ•°å­—å›¾åƒå¤„ç†ä¸­ï¼Œå›¾åƒæŽ©æ¨¡ä¸»è¦ç”¨äºŽï¼š â‘ æå–æ„Ÿå…´è¶£åŒº,ç”¨é¢„å…ˆåˆ¶ä½œçš„æ„Ÿå…´è¶£åŒºæŽ©æ¨¡ä¸Žå¾…å¤„ç†å›¾åƒç›¸ä¹˜,å¾—åˆ°æ„Ÿå…´è¶£åŒºå›¾åƒ,æ„Ÿå…´è¶£åŒºå†…å›¾åƒå€¼ä¿æŒä¸å˜,è€ŒåŒºå¤–å›¾åƒå€¼éƒ½ä¸º0ã€‚ â‘¡å±è”½ä½œç”¨,ç”¨æŽ©æ¨¡å¯¹å›¾åƒä¸ŠæŸäº›åŒºåŸŸä½œå±è”½,ä½¿å…¶ä¸å‚åŠ å¤„ç†æˆ–ä¸å‚åŠ å¤„ç†å‚æ•°çš„è®¡ç®—,æˆ–ä»…å¯¹å±è”½åŒºä½œå¤„ç†æˆ–ç»Ÿè®¡ã€‚ â‘¢ç»“æž„ç‰¹å¾æå–,ç”¨ç›¸ä¼¼æ€§å˜é‡æˆ–å›¾åƒåŒ¹é…æ–¹æ³•æ£€æµ‹å’Œæå–å›¾åƒä¸­ä¸ŽæŽ©æ¨¡ç›¸ä¼¼çš„ç»“æž„ç‰¹å¾ã€‚ â‘£ç‰¹æ®Šå½¢çŠ¶å›¾åƒçš„åˆ¶ä½œã€‚æŽ©è†œæ˜¯ä¸€ç§å›¾åƒæ»¤é•œçš„æ¨¡æ¿ï¼Œå®žç”¨æŽ©è†œç»å¸¸å¤„ç†çš„æ˜¯é¥æ„Ÿå›¾åƒã€‚å½“æå–é“è·¯æˆ–è€…æ²³æµï¼Œæˆ–è€…æˆ¿å±‹æ—¶ï¼Œé€šè¿‡ä¸€ä¸ªn*nçš„çŸ©é˜µæ¥å¯¹å›¾åƒè¿›è¡Œåƒç´ è¿‡æ»¤ï¼Œç„¶åŽå°†æˆ‘ä»¬éœ€è¦çš„åœ°ç‰©æˆ–è€…æ ‡å¿—çªå‡ºæ˜¾ç¤ºå‡ºæ¥ã€‚è¿™ä¸ªçŸ©é˜µå°±æ˜¯ä¸€ç§æŽ©è†œã€‚ 12345678910111213141516171819202122232425import cv2 as cvcv.namedWindow('image', 0)cv.resizeWindow('image', 720, 480)# åŠ è½½ä¸¤å¼ å›¾ç‰‡img1 = cv.imread('a.jpg')img2 = cv.imread('a.jpeg')# æˆ‘æƒ³åœ¨å·¦ä¸Šè§’æ”¾ç½®æ ‡è¯†ï¼Œæ‰€ä»¥æˆ‘åˆ›å»ºäº†ä¸€ä¸ªROIrows,cols,channels = img2.shaperoi = img1[0:rows, 0:cols ]# çŽ°åœ¨åˆ›å»ºä¸€ä¸ªå¾½æ ‡æŽ©ç å¹¶åˆ›å»ºå…¶åè½¬æŽ©ç img2gray = cv.cvtColor(img2,cv.COLOR_BGR2GRAY)ret, mask = cv.threshold(img2gray, 10, 255, cv.THRESH_BINARY)mask_inv = cv.bitwise_not(mask)# çŽ°åœ¨ä½¿ROIä¸­çš„å¾½æ ‡åŒºåŸŸå˜é»‘img1_bg = cv.bitwise_and(roi,roi,mask = mask_inv)# ä»…ä»Žå¾½æ ‡å›¾åƒä¸­èŽ·å–å¾½æ ‡åŒºåŸŸã€‚img2_fg = cv.bitwise_and(img2,img2,mask = mask)# åœ¨ROIä¸­æ”¾ç½®å¾½æ ‡å¹¶ä¿®æ”¹ä¸»å›¾åƒdst = cv.add(img1_bg,img2_fg)img1[0:rows, 0:cols ] = dstcv.imshow('image',img1)cv.waitKey(0)cv.destroyAllWindows()]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCv-Pythonå°ç™½è¿›é˜¶ä¹‹è¿›åº¦æ¡createTrackbar]]></title>
    <url>%2F2019%2F08%2F17%2FOpenCv-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%BF%9B%E5%BA%A6%E6%9D%A1createTrackbar%2F</url>
    <content type="text"><![CDATA[OpenCv-Pythonå°ç™½è¿›é˜¶ä¹‹è¿›åº¦æ¡createTrackbarcreateTrackbarint createTrackbar(const string&amp; trackbarname, const string&amp;winname, int* value, int count ï¼ŒTrackbarCallback onChange = 0, void* userdata = 0) å‚æ•°1ï¼šè½¨è¿¹æ¡åå­— å‚æ•°2ï¼šçª—å£åå­— å‚æ•°3ï¼šæ»‘å—åˆå§‹ä½ç½® å‚æ•°4ï¼šè¡¨ç¤ºæ»‘å—è¾¾åˆ°æœ€å¤§ä½ç½®çš„å€¼ å‚æ•°5ï¼šé»˜è®¤å€¼ä¸º0ï¼ŒæŒ‡å‘å›žè°ƒå‡½æ•° å‚æ•°6ï¼šé»˜è®¤å€¼ä¸º0ï¼Œç”¨æˆ·ä¼ ç»™å›žè°ƒå‡½æ•°çš„æ•°æ®å€¼ getTrackbarint getTrackbarPos(const string&amp; trackbarname, const string&amp; winname) å‡½æ•°ä½œç”¨ï¼š èŽ·å–æ»‘åŠ¨æ¡çš„ä½ç½®çš„å€¼ å‚æ•°1:è¿›åº¦æ¡åç§° å‚æ•°2:çª—å£åç§° è¿”å›žå€¼ï¼šè¿›åº¦æ¡ä½ç½® ä»£ç å®žçŽ°12345678910111213141516171819202122# -*- coding:utf-8 -*-import cv2img = cv2.imread('a.jpg', 0)print img.sizeprint img.dtypecv2.namedWindow('image', 0)cv2.resizeWindow('image', 720, 480)cv2.createTrackbar('num','image',0,255,lambda x: None)while(True): num = cv2.getTrackbarPos('num','image') ret, thresh1 = cv2.threshold(img, num, 255, cv2.THRESH_BINARY) cv2.imshow('image', thresh1) if cv2.waitKey(1) == 27: breakcv2.destroyAllWindows()]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹å›¾åƒå›ºå®šé˜ˆå€¼äºŒå€¼åŒ–å¤„ç†threshold]]></title>
    <url>%2F2019%2F08%2F17%2FOpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%9B%BE%E5%83%8F%E5%9B%BA%E5%AE%9A%E9%98%88%E5%80%BC%E4%BA%8C%E5%80%BC%E5%8C%96%E5%A4%84%E7%90%86threshold%2F</url>
    <content type="text"><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹å›¾åƒå›ºå®šé˜ˆå€¼äºŒå€¼åŒ–å¤„ç†thresholdäºŒå€¼åŒ–å®šä¹‰ï¼šå›¾åƒçš„äºŒå€¼åŒ–ï¼Œå°±æ˜¯å°†å›¾åƒä¸Šçš„åƒç´ ç‚¹çš„ç°åº¦å€¼è®¾ç½®ä¸º0æˆ–255ï¼Œä¹Ÿå°±æ˜¯å°†æ•´ä¸ªå›¾åƒå‘ˆçŽ°å‡ºæ˜Žæ˜¾çš„åªæœ‰é»‘å’Œç™½çš„è§†è§‰æ•ˆæžœã€‚ç°åº¦å€¼0ï¼šé»‘ï¼Œç°åº¦å€¼255ï¼šç™½ ä¸€å¹…å›¾åƒåŒ…æ‹¬ç›®æ ‡ç‰©ä½“ã€èƒŒæ™¯è¿˜æœ‰å™ªå£°ï¼Œè¦æƒ³ä»Žå¤šå€¼çš„æ•°å­—å›¾åƒä¸­ç›´æŽ¥æå–å‡ºç›®æ ‡ç‰©ä½“ï¼Œå¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯è®¾å®šä¸€ä¸ªé˜ˆå€¼Tï¼Œç”¨Tå°†å›¾åƒçš„æ•°æ®åˆ†æˆä¸¤éƒ¨åˆ†ï¼šå¤§äºŽTçš„åƒç´ ç¾¤å’Œå°äºŽTçš„åƒç´ ç¾¤ã€‚è¿™æ˜¯ç ”ç©¶ç°åº¦å˜æ¢çš„æœ€ç‰¹æ®Šçš„æ–¹æ³•ï¼Œç§°ä¸ºå›¾åƒçš„äºŒå€¼åŒ–ï¼ˆBinarizationï¼‰ã€‚ threshold cv2.threshold(img, threshold, maxval,type) å…¶ä¸­ï¼š thresholdæ˜¯è®¾å®šçš„é˜ˆå€¼ maxvalæ˜¯å½“ç°åº¦å€¼å¤§äºŽï¼ˆæˆ–å°äºŽï¼‰é˜ˆå€¼æ—¶å°†è¯¥ç°åº¦å€¼èµ‹æˆçš„å€¼ typeè§„å®šçš„æ˜¯å½“å‰äºŒå€¼åŒ–çš„æ–¹å¼ ä»£ç å®žçŽ°123456789101112131415161718192021222324# -*- coding:utf-8 -*-import cv2img1 = cv2.imread('opencv.png', cv2.IMREAD_GRAYSCALE)# cv2.THRESH_OTSU ä½œä¸ºå›¾åƒè‡ªé€‚åº”äºŒå€¼åŒ–çš„ä¸€ä¸ªå¾ˆä¼˜çš„ç®—æ³•Otsuå¤§æ´¥ç®—æ³•çš„å‚æ•°ret, binary = cv2.threshold(img1, 175, 255, cv2.THRESH_BINARY)# cv2.THRESH_BINARY å¤§äºŽé˜ˆå€¼çš„éƒ¨åˆ†è¢«ç½®ä¸º255ï¼Œå°äºŽéƒ¨åˆ†è¢«ç½®ä¸º0ret, binaryinv = cv2.threshold(img1, 175, 255, cv2.THRESH_BINARY_INV)# cv2.THRESH_BINARY_INV å¤§äºŽé˜ˆå€¼éƒ¨åˆ†è¢«ç½®ä¸º0ï¼Œå°äºŽéƒ¨åˆ†è¢«ç½®ä¸º255ret, trunc = cv2.threshold(img1, 175, 255, cv2.THRESH_TRUNC)# cv2.THRESH_TRUNC å¤§äºŽé˜ˆå€¼éƒ¨åˆ†è¢«ç½®ä¸ºthresholdï¼Œå°äºŽéƒ¨åˆ†ä¿æŒåŽŸæ ·ret, tozero = cv2.threshold(img1, 175, 255, cv2.THRESH_TOZERO)# cv2.THRESH_TOZERO å°äºŽé˜ˆå€¼éƒ¨åˆ†è¢«ç½®ä¸º0ï¼Œå¤§äºŽéƒ¨åˆ†ä¿æŒä¸å˜ret, tozeroinv = cv2.threshold(img1, 175, 255, cv2.THRESH_TOZERO_INV)# cv2.THRESH_TOZERO_INV å¤§äºŽé˜ˆå€¼éƒ¨åˆ†è¢«ç½®ä¸º0ï¼Œå°äºŽéƒ¨åˆ†ä¿æŒä¸å˜while True: cv2.imshow('img1', img1) cv2.imshow('binary', binary) cv2.imshow('binaryinv', binaryinv) cv2.imshow('trunc', trunc) cv2.imshow('tozero', tozero) cv2.imshow('tozeroinv', tozeroinv) if cv2.waitKey(1) == 27: break]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹èŽ·å–åƒç´ ç‚¹]]></title>
    <url>%2F2019%2F08%2F16%2FOpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%8E%B7%E5%8F%96%E5%83%8F%E7%B4%A0%E7%82%B9%2F</url>
    <content type="text"><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹èŽ·å–åƒç´ ç‚¹ç°åº¦å›¾å› ä¸ºç°åº¦å›¾ä¸å…·æœ‰RGBå€¼ï¼Œæ‰€ä»¥çš„imgæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œç¬¬ä¸€ç»´è¡¨ç¤ºè¡Œï¼Œç¬¬äºŒç»´è¡¨ç¤ºåˆ— ä»£ç å®žçŽ° 12print img.shapeprint img[1][1] å½©è‰²å›¾å› ä¸ºå½©è‰²å›¾å…·æœ‰RGBå€¼ï¼Œæ‰€ä»¥çš„imgæ˜¯ä¸€ä¸ªä¸‰ç»´æ•°ç»„ï¼Œç¬¬ä¸€ç»´è¡¨ç¤ºè¡Œï¼Œç¬¬äºŒç»´è¡¨ç¤ºåˆ—ï¼Œç¬¬ä¸‰ç»´è¡¨ç¤ºRGBé€šé“,0è¡¨ç¤ºbï¼Œ1è¡¨ç¤ºgï¼Œ2è¡¨ç¤ºr ä»£ç å®žçŽ°12print img.shapeprint img[1][1][1]]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹ç°åº¦è½¬åŒ–ã€åˆ†ç¦»RGBä¸Žç›´æ–¹å›¾æ˜¾ç¤º]]></title>
    <url>%2F2019%2F08%2F15%2FOpenCV-Python%E5%B0%8F%E7%99%BD%E8%BF%9B%E9%98%B6%E4%B9%8B%E7%81%B0%E5%BA%A6%E8%BD%AC%E5%8C%96%E3%80%81%E5%88%86%E7%A6%BBRGB%E4%B8%8E%E7%9B%B4%E6%96%B9%E5%9B%BE%E6%98%BE%E7%A4%BA%2F</url>
    <content type="text"><![CDATA[OpenCV-Pythonå°ç™½è¿›é˜¶ä¹‹ç°åº¦è½¬åŒ–ã€åˆ†ç¦»RGBä¸Žç›´æ–¹å›¾æ˜¾ç¤º@[toc] æ¡ä»¶çŽ¯å¢ƒï¼šOpenCV Pycharm python3.7ç´ æï¼š è½¬åŒ–ä¸ºç°åº¦å›¾å‡½æ•°ï¼š cv2.imread(path) è½½å…¥å›¾ç‰‡ cv2.cvtColor(img, cv2.COLOR_RGB2GRAY) æŠŠimgå›¾ç‰‡ä»ŽRGBæ ¼å¼åˆ‡æ¢ä¸ºGRAY cv2.namedWindow(name, aotusize) ç»™çª—å£å‘½åï¼Œå¤§å°ä¸å¯è‡ªç”±è°ƒæ•´ cv2.resizeWindow(name, length, width) ç»™çª—å£è®¾ç½®é•¿ä¸Žå®½ cv2.imshow(name, img) æ˜¾ç¤ºimgå›¾ç‰‡ cv2.imwrite(path, img) åˆ›å»ºpathè·¯å¾„å¹¶å†™å…¥imgå›¾ç‰‡ ä»£ç å®žçŽ°123456789import cv2img = cv2.imread('p1.jpg')img0 = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)cv2.imwrite('p2.jpg', img0)cv2.namedWindow('figure1', 0)cv2.resizeWindow('figure1', 960, 480)cv2.imshow('figure1', img0) è¾“å‡º åˆ†ç¦»RGBå‡½æ•° cv2.split(img) åˆ†ç¦»imgå›¾ç‰‡çš„RGBï¼Œæ³¨æ„ï¼ï¼ï¼ç”µè„‘æ˜¯ä»¥BGRçš„é¡ºåºåˆ†ç¦»çš„ ä»£ç å®žçŽ°123456789101112131415161718192021222324import cv2import matplotlib.pyplot as pltimg = cv2.imread('p1.jpg')img0 = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)cv2.imwrite('p2.jpg', img0)cv2.namedWindow('figure1', 0)cv2.resizeWindow('figure1', 960, 480)cv2.imshow('figure1', img0)for col in ['Blue', "Green", 'Red']: cv2.namedWindow(col, 0) cv2.resizeWindow(col, 960, 480)b, g, r = cv2.split(img)cv2.imwrite('Blue.jpg', b)cv2.imwrite('Red.jpg', r)cv2.imwrite('Green.jpg', g)cv2.imwrite('Blue.jpg', b)cv2.imwrite('Red.jpg', r)cv2.imwrite('Green.jpg', g)cv2.destroyAllWindows() è¾“å‡ºredblueGreen ç›´æ–¹å›¾æ˜¾ç¤ºå‡½æ•° cv2.calcHist(images, channels, mask, histSize, ranges[, hist[, accumulate ]]) ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥ã€‚ ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨äºŽè®¡ç®—ç›´æ–¹å›¾çš„é€šé“ï¼Œè¿™é‡Œä½¿ç”¨ç°åº¦å›¾è®¡ç®—ç›´æ–¹å›¾ï¼Œæ‰€ä»¥å°±ç›´æŽ¥ä½¿ç”¨ç¬¬ä¸€ä¸ªé€šé“ï¼› ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯Maskï¼Œè¿™é‡Œæ²¡æœ‰ä½¿ç”¨ï¼Œæ‰€ä»¥ç”¨Noneã€‚ ç¬¬å››ä¸ªå‚æ•°æ˜¯histSizeï¼Œè¡¨ç¤ºè¿™ä¸ªç›´æ–¹å›¾åˆ†æˆå¤šå°‘ä»½ï¼ˆå³å¤šå°‘ä¸ªç›´æ–¹æŸ±ï¼‰ã€‚ç¬¬äºŒä¸ªä¾‹å­å°†ç»˜å‡ºç›´æ–¹å›¾ï¼Œåˆ°æ—¶å€™ä¼šæ¸…æ¥šä¸€ç‚¹ã€‚ ç¬¬äº”ä¸ªå‚æ•°æ˜¯è¡¨ç¤ºç›´æ–¹å›¾ä¸­å„ä¸ªåƒç´ çš„å€¼ï¼Œ[0.0, 256.0]è¡¨ç¤ºç›´æ–¹å›¾èƒ½è¡¨ç¤ºåƒç´ å€¼ä»Ž0.0åˆ°256çš„åƒç´ ã€‚ ä»£ç å®žçŽ°12345678910111213141516171819202122232425262728293031323334353637import cv2import matplotlib.pyplot as pltimg = cv2.imread('p1.jpg')img0 = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)cv2.imwrite('p2.jpg', img0)cv2.namedWindow('figure1', 0)cv2.resizeWindow('figure1', 960, 480)cv2.imshow('figure1', img0)for col in ['Blue', "Green", 'Red']: cv2.namedWindow(col, 0) cv2.resizeWindow(col, 960, 480)b, g, r = cv2.split(img)cv2.imwrite('Blue.jpg', b)cv2.imwrite('Red.jpg', r)cv2.imwrite('Green.jpg', g)r = cv2.imshow("Red", r)g = cv2.imshow("Green", g)b = cv2.imshow("Blue", b)cv2.destroyAllWindows()color = ['b', 'g', 'r']for i, col in enumerate(color): histr = cv2.calcHist([img], [i], None, [256], [0, 256]) plt.plot(histr, color=col) plt.xlim(0, 256) plt.ylim(0, 700000) plt.show()histr = cv2.calcHist([img0], [0], None, [256], [0, 256])plt.plot(histr, color=col)plt.xlim(0, 256)plt.ylim(0, 700000)plt.show() è¾“å‡º]]></content>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆå‡è€Œæ²»ä¹‹ä¸Žåˆ†è€Œæ²»ä¹‹]]></title>
    <url>%2F2019%2F08%2F12%2F%E6%B5%85%E8%B0%88%E5%87%8F%E8%80%8C%E6%B2%BB%E4%B9%8B%E4%B8%8E%E5%88%86%E8%80%8C%E6%B2%BB%E4%B9%8B%2F</url>
    <content type="text"><![CDATA[æµ…è°ˆå‡è€Œæ²»ä¹‹ä¸Žåˆ†è€Œæ²»ä¹‹@[toc] å‡è€Œæ²»ä¹‹çº¿æ€§é€’å½’ï¼ˆlinear recursionï¼‰å³å‡è€Œæ²»ä¹‹ï¼ˆdecrease-and-conquerï¼‰çš„æ€æƒ³ï¼šé€’å½’æ¯æ·±å…¥ä¸€å±‚ï¼Œå¾…æ±‚è§£é—®é¢˜çš„è§„æ¨¡éƒ½ç¼©å‡ä¸€ä¸ªå¸¸æ•°ï¼Œç›´è‡³æœ€ç»ˆèœ•åŒ–ä¸ºå¹³å‡¡çš„å°ï¼ˆç®€å•ï¼‰é—®é¢˜ã€‚å°†ä¸€ä¸ªè§„æ¨¡ä¸ºnçš„å¤§é—®é¢˜é€€åŒ–ä¸ºä¸€ä¸ªè§„æ¨¡ä¸ºn-1çš„å°é—®é¢˜ï¼Œç›´è‡³é€€åŒ–ä¸ºè§„æ¨¡ä¸º1çš„å¹³å‡¡æƒ…å†µï¼Œè¿™ç§æƒ…å†µç§°ä¹‹ä¸ºé€’å½’åŸºï¼ˆbase case of recursionï¼‰ï¼Œå½“è¾¾åˆ°é€’å½’åŸºæ—¶,ç®—æ³•å°†æ‰§è¡Œéžé€’å½’è®¡ç®—ã€‚è¿™ä¸€æ–¹æ³•ä½“çŽ°äº†ç®—æ³•çš„æœ‰ç©·æ€§ã€‚ä¸€èˆ¬è¿™ç§é—®é¢˜å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„å­é—®é¢˜ï¼Œå…¶ä¸€ç”¨äºŽå•ç‹¬çš„ä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚ï¼šé€’å½’å‡ºå£ï¼‰ï¼Œå…¶äºŒåº”ç”¨äºŽå‰©ä½™éƒ¨åˆ†ç»“æž„ä¸ŽåŽŸé—®é¢˜ç›¸åŒã€‚å­é—®é¢˜ç»åˆå¹¶åŽä¸ºåŽŸé—®é¢˜çš„è§£ã€‚ 1234567891011121314151617181920#include &lt;iostream&gt;using namespace std;int Fib(int n)&#123; if (n==1||n==0) &#123; return 1;//é€’å½’å‡ºå£ &#125; else &#123; return Fib(n-1)+Fib(n-2);//æŠŠé—®é¢˜åˆ†è§£æˆFib(n-1)+Fib(n-2)æ¥é€’å½’æ±‚è§£ &#125;&#125;int main()&#123; int n; cin&gt;&gt;n; cout&lt;&lt;Fib(n)&lt;&lt;endl; return 0;&#125; åˆ†è€Œæ²»ä¹‹äºŒåˆ†é€’å½’ï¼ˆbinary recursionï¼‰å³åˆ†è€Œæ²»ä¹‹ï¼ˆdivide-and-conquerï¼‰çš„æ€æƒ³ï¼šå°†å…¶åˆ†è§£ä¸ºè‹¥å¹²è§„æ¨¡æ›´å°çš„å­é—®é¢˜ï¼Œ å†é€šè¿‡é€’å½’æœºåˆ¶åˆ†åˆ«æ±‚è§£ã€‚ è¿™ç§åˆ†è§£æŒç»­è¿›è¡Œï¼Œç›´åˆ°å­é—®é¢˜è§„æ¨¡ç¼©å‡è‡³å¹³å‡¡æƒ…å†µã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸€é€’å½’å®žä¾‹ä¼šè°ƒç”¨å¤šä¸ªé€’å½’æ¥å®Œæˆï¼Œæ•…ç§°ä½œå¤šè·¯é€’å½’ï¼ˆmulti-way recursionï¼‰ï¼Œé€šå¸¸éƒ½æ˜¯å°†åŽŸé—®é¢˜ä¸€åˆ†ä¸ºäºŒï¼Œæ•…æœ‰äºŒåˆ†é€’å½’ã€‚ä»¥ä¸‹ä»£ç æ˜¯å¯¹æ•°ç»„æ±‚å’Œçš„äºŒåˆ†é€’å½’çš„å®žçŽ°ï¼Œæ–°ç®—æ³•çš„æ€è·¯æ˜¯ï¼šä»¥å±…ä¸­çš„å…ƒç´ ä¸ºç•Œå°†æ•°ç»„ä¸€åˆ†ä¸ºäºŒï¼›é€’å½’åœ°å¯¹å­æ•°ç»„åˆ†åˆ«æ±‚å’Œï¼›æœ€åŽï¼Œå­æ•°ç»„ä¹‹å’Œç›¸åŠ å³ä¸ºåŽŸæ•°ç»„çš„æ€»å’Œã€‚ å¯ä»¥ç”¨äºŒè·¯å½’å¹¶æ¥ç†è§£ä¸‹é¢ä»¥vectorçš„äºŒè·¯å½’å¹¶ä¸ºä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839template &lt;typename T&gt;void Vector&lt;T&gt;::mergeSort(Rank lo, Rank hi)&#123; if (hi-lo&lt;2) &#123; return; &#125; int mi=(lo+hi)&gt;&gt;2; mergeSort(lo, mi); mergeSort(mi, hi); merge(lo, mi, hi);&#125;template &lt;typename T&gt;void Vector&lt;T&gt;::merge(Rank lo, Rank mi, Rank hi)&#123; T* A=_elem+lo; int lb=mi-lo; T* B=new T[lb]; for (Rank i=0; i&lt;lb; i++) &#123; B[i]=A[i]; &#125; int lc=hi-mi; T* C=_elem+mi; for (Rank i=0,j=0,k=0; j&lt;lb;i++ ) &#123; if ((lc&lt;=k)||(B[j]&lt;=C[k])) &#123; A[i]=B[j++]; &#125; if ((k&lt;lc)&amp;&amp;(C[k]&lt;B[j])) &#123; A[i]=C[k++]; &#125; &#125; delete [] B;&#125; å¤§è‡´å†…å®¹å¦‚å›¾æ‰€ç¤ºï¼šäºŒè·¯å½’å¹¶çš„æ„ä¹‰åœ¨äºŽæŠŠä¸€ä¸ªæ— åºçš„å‘é‡åˆ†è§£æˆå•ä¸ªæœ‰åºçš„å…ƒç´ ï¼Œç„¶åŽä¸¤ä¸¤å½’å¹¶æŽ’åºæˆä¸ºä¸€ä¸ªæœ‰åºçš„å‘é‡ï¼Œæ‰€ä»¥å¯ä»¥é€’å½’ã€‚äºŒè·¯å½’å¹¶ä½“çŽ°äº†åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³ã€‚æŠŠä¸€ä¸ªå‘é‡ä¸€åˆ†ä¸ºäºŒï¼Œæ…¢æ…¢çš„å˜æˆå•ä¸ªçš„å…ƒç´ å°†é—®é¢˜ç¼©å‡æˆå¾ˆç®€å•çš„æƒ…å†µã€‚ç„¶åŽæŽ’åºå½’å¹¶ã€‚ å‚è€ƒé“¾æŽ¥ï¼šhttps://juejin.im/post/5b9f8ffae51d450e83776059]]></content>
  </entry>
  <entry>
    <title><![CDATA[C++å¤šé‡ç»§æ‰¿çš„æž„é€ ä¸Žæžæž„çš„é¡ºåº]]></title>
    <url>%2F2019%2F08%2F12%2FC-%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E6%9E%90%E6%9E%84%E7%9A%84%E9%A1%BA%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[C++å¤šé‡ç»§æ‰¿çš„æž„é€ ä¸Žæžæž„çš„æ¬¡åºåœ¨C++çš„å¤šé‡ç»§æ‰¿ä¸­å«æœ‰è™šåŸºç±»ï¼Œæˆå‘˜å¯¹è±¡æ—¶å¾ˆå®¹æ˜“æŠŠæž„é€ ä¸Žæžæž„çš„é¡ºåºå¼„ä¸æ¸…æ¥š ä¸‹é¢çœ‹ä¸€æ®µä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687#include &lt;iostream&gt;using namespace std;class OBJ1&#123;public: OBJ1() &#123; cout&lt;&lt;"OBJ1"&lt;&lt;endl; &#125; ~OBJ1() &#123; cout&lt;&lt;"~OBJ1"&lt;&lt;endl; &#125;&#125;;class OBJ2&#123;public: OBJ2() &#123; cout&lt;&lt;"OBJ2"&lt;&lt;endl; &#125; ~OBJ2() &#123; cout&lt;&lt;"~OBJ2"&lt;&lt;endl; &#125;&#125;;class Base1&#123;public: Base1() &#123; cout&lt;&lt;"Base1"&lt;&lt;endl; &#125; ~Base1() &#123; cout&lt;&lt;"~Base1"&lt;&lt;endl; &#125;&#125;;class Base2&#123;public: Base2() &#123; cout&lt;&lt;"Base2"&lt;&lt;endl; &#125; ~Base2() &#123; cout&lt;&lt;"~Base2"&lt;&lt;endl; &#125;&#125;;class Base3&#123;public: Base3() &#123; cout&lt;&lt;"Base3"&lt;&lt;endl; &#125; ~Base3() &#123; cout&lt;&lt;"~Base3"&lt;&lt;endl; &#125;&#125;;class Base4&#123;public: Base4() &#123; cout&lt;&lt;"Base4"&lt;&lt;endl; &#125; ~Base4() &#123; cout&lt;&lt;"~Base4"&lt;&lt;endl; &#125;&#125;;class Derived: public Base1, virtual public Base2, public Base3, virtual public Base4&#123;public: Derived():Base4(),Base3(),Base2(),Base1(),obj2(),obj1()&#123;&#125;protected: OBJ1 obj1; OBJ2 obj2;&#125;;int main()&#123; Derived aa; return 0;&#125; è¿è¡Œç»“æžœ 12345678910111213Base2Base4Base1Base3OBJ1OBJ2~OBJ2~OBJ1~Base3~Base1~Base4~Base2Program ended with exit code: 0 ç”±æ­¤å¯çŸ¥C++ä¸­å¤šé‡ç»§æ‰¿çš„æž„é€ é¡ºåºæ˜¯1ï¼‰è™šå‡½æ•°ä¼˜å…ˆæž„é€ ï¼Œå…¶é¡ºåºæ˜¯æŒ‰é‚£ä¸ªç»§æ‰¿çš„é¡ºåºæ¥çš„ï¼Œè€Œä¸æ˜¯æŒ‰åˆå§‹åŒ–åˆ—è¡¨æ¥çš„2ï¼‰ç„¶åŽæž„é€ æ™®é€šçš„åŸºç±»ï¼Œå…¶é¡ºåºä¹Ÿæ˜¯æŒ‰é‚£ä¸ªç»§æ‰¿çš„é¡ºåºæ¥çš„ï¼Œä¸æ˜¯æŒ‰åˆå§‹åŒ–åˆ—è¡¨æ¥çš„3ï¼‰æœ€åŽæž„é€ æˆå‘˜å¯¹è±¡4ï¼‰æž„é€ æ´¾ç”Ÿç±»è‡ªå·±çš„å‡½æ•°ä½“ ç”±æ­¤å¯çŸ¥C++ä¸­å¤šé‡ç»§æ‰¿çš„æžæž„é¡ºåºæ˜¯1ï¼‰æž„é€ æ´¾ç”Ÿç±»è‡ªå·±çš„å‡½æ•°ä½“2ï¼‰æžé€ æˆå‘˜å¯¹è±¡3ï¼‰ç„¶åŽæžæž„æ™®é€šçš„åŸºç±»ï¼Œå…¶é¡ºåºä¹Ÿæ˜¯æŒ‰é‚£ä¸ªç»§æ‰¿çš„é¡ºåºæ¥çš„ï¼Œä¹Ÿä¸æ˜¯æŒ‰åˆå§‹åŒ–åˆ—è¡¨æ¥çš„4ï¼‰æœ€åŽæ˜¯é‚£ä¸ªè™šåŸºç±»]]></content>
  </entry>
  <entry>
    <title><![CDATA[æžæž„å‡½æ•°ä¸ºè™šå‡½æ•°]]></title>
    <url>%2F2019%2F08%2F12%2F%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E4%B8%BA%E8%99%9A%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[è½¬è½½ https://blog.csdn.net/zhangqk2016/article/details/51849535 å¤šæ€æ˜¯é¢å‘å¯¹è±¡çš„ä¸€ä¸ªåŸºæœ¬å±žæ€§ï¼ŒåŒ…æ‹¬é™æ€å¤šæ€ï¼ˆç¼–è¯‘é˜¶æ®µï¼‰å’ŒåŠ¨æ€å¤šæ€ï¼ˆè¿è¡Œé˜¶æ®µï¼‰ï¼Œé™æ€å¤šæ€ä¸»è¦æ˜¯æŒ‡å‡½æ•°å‚æ•°ä¸åŒäº§ç”Ÿçš„å¤šæ€æ€§ï¼Œæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå¯ä»¥è¯†åˆ«çš„ä¸€ç§å¤šæ€æœºåˆ¶ï¼Œè€Œè¿è¡Œæ—¶å¤šæ€åˆ™ä¸»è¦ç”¨äºŽåŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œå¯ä»¥é€šè¿‡åŸºç±»æŒ‡é’ˆç›´æŽ¥è°ƒç”¨æ´¾ç”Ÿç±»çš„å¯¹è±¡å‡½æ•°ï¼Œå½“ç„¶è¿™ç§å¤šæ€æ˜¯é€šè¿‡è™šå‡½æ•°å®žçŽ°çš„ã€‚ è™šå‡½æ•°çš„ç›®çš„å°±æ˜¯é€šçŸ¥ç³»ç»Ÿåœ¨å‡½æ•°è°ƒç”¨æ—¶èƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ«å¯¹åº”çš„ç±»å¯¹è±¡ç±»åž‹ï¼Œä»Žè€Œèƒ½å¤Ÿæ ¹æ®æŒ‡é’ˆæ‰€æŒ‡ç±»åž‹è°ƒç”¨å¯¹åº”çš„ç±»å¯¹è±¡ï¼Œå®žçŽ°å‡½æ•°è°ƒç”¨æ—¶çš„å¤šæ€æ€§ã€‚å¯¹äºŽæžæž„å‡½æ•°è€Œè¨€ï¼ŒåŒæ ·é€‚ç”¨äºŽä¸Šè¿°è§„åˆ™ã€‚å¦‚æžœæžæž„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼ˆå¯¹è±¡è¢«åˆ é™¤æ—¶ï¼‰åˆ™åªä¼šè°ƒç”¨å½“å‰å¯¹è±¡å¯¹åº”çš„ç±»çš„æžæž„å‡½æ•°ï¼Œè¿™å¯¹äºŽç›´æŽ¥å®šä¹‰çš„å¯¹è±¡æ˜¯æ²¡æœ‰ä»€ä¹ˆå½±å“çš„ï¼Œä½†æ˜¯å¯¹äºŽä½¿ç”¨åŸºç±»æŒ‡å‘æ´¾ç”Ÿç±»çš„æŒ‡é’ˆè€Œè¨€ï¼Œå› ä¸ºåŸºç±»æŒ‡é’ˆå®žé™…ä¸Šæ˜¯åŸºç±»ç±»åž‹ï¼Œæ‰€ä»¥æžæž„æ—¶è‡ªç„¶åªä¼šè°ƒç”¨åŸºç±»çš„æžæž„å‡½æ•°ï¼Œè¿™å°±å¯èƒ½äº§ç”Ÿå†…å­˜æ³„æ¼ï¼ˆå› ä¸ºæ´¾ç”Ÿç±»çš„æžæž„å‡½æ•°ä¸è¢«è°ƒç”¨ï¼‰ã€‚æ‰€ä»¥å¦‚æžœç¡®å®šç¨‹åºä¸­æœ‰åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»çš„é—®é¢˜ï¼Œåˆ™å¿…é¡»å°†åŸºç±»çš„æžæž„å‡½æ•°æŒ‡å®šä¸ºè™šå‡½æ•°ï¼Œå¦‚æ­¤æ‰èƒ½ç¡®ä¿NEWå‡ºæ¥çš„å¯¹è±¡è¢«æ­£ç¡®çš„DELETEã€‚ ä»¥ä¸‹æ˜¯å‡ ä¸ªç¤ºä¾‹ç¨‹åºï¼Œç”¨äºŽæ–¹ä¾¿ç†è§£ï¼š 123456789101112131415161718class ClxBase&#123; public: ClxBase() &#123;&#125;; ~ClxBase() &#123; cout &lt;&lt; "Output from the destructor of class ClxBase!" &lt;&lt; endl; &#125;; void DoSomething() &#123; cout &lt;&lt; "Do something in class ClxBase!" &lt;&lt; endl; &#125;; &#125;; class ClxDerived : public ClxBase&#123; public: ClxDerived() &#123;&#125;; ~ClxDerived() &#123; cout &lt;&lt; "Output from the destructor of class ClxDerived!" &lt;&lt; endl; &#125;; void DoSomething() &#123; cout &lt;&lt; "Do something in class ClxDerived!" &lt;&lt; endl; &#125;; &#125;; ç¤ºä¾‹ç¨‹åºä¸€ï¼š 123456789int main()&#123; ClxBase base; ClxDerived derived; base.DoSomething(); derived.DoSomething(); return 0; &#125; è¿è¡Œç»“æžœï¼š Do something in class ClxBase! Do something in class ClxDerived! Output from the destructor of class ClxDerived! Output from the destructor of class ClxBase! Output from the destructor of class ClxBase!åˆ†æžï¼š ä»Žä»¥ä¸Šå®žä¾‹ç¨‹åºå¯ä»¥å‘çŽ°ï¼Œæ­£å¸¸æž„é€ çš„å¯¹è±¡ï¼Œæ´¾ç”Ÿç±»çš„æžæž„å‡½æ•°ä¼šä¸»åŠ¨è°ƒç”¨åŸºç±»çš„æžæž„å‡½æ•°ï¼Œæ‰€ä»¥ä¸ä¼šå­˜åœ¨å†…å­˜æ³„æ¼é—®é¢˜ã€‚ ç¤ºä¾‹ç¨‹åºäºŒï¼š 123456int main()&#123; ClxDerived *p = new ClxDerived; p-&gt;DoSomething(); delete p; return 0; &#125; è¿è¡Œç»“æžœï¼š Do something in class ClxDerived! Output from the destructor of class ClxDerived! Output from the destructor of class ClxBase!åˆ†æžï¼šä»Žä»¥ä¸Šç»“æžœå¯ä»¥å‘çŽ°ï¼Œæ´¾ç”Ÿç±»çš„æŒ‡é’ˆåœ¨æžæž„æ—¶ï¼ŒåŒæ ·æ˜¯è¿è¡ŒæŒ‡é’ˆæ‰€å¯¹åº”ç±»åž‹çš„æ´¾ç”Ÿç±»çš„æžæž„å‡½æ•°ï¼Œè€Œæ­¤æžæž„å‡½æ•°è‡ªç„¶ä¼šè°ƒç”¨åŸºç±»çš„æžæž„å‡½æ•°ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ã€‚ å®žä¾‹ç¨‹åºä¸‰ï¼š 123456int main()&#123; ClxBase *p = new ClxDerived; p-&gt;DoSomething(); delete p; return 0; &#125; è¿è¡Œç»“æžœï¼š Do something in class ClxBase! Output from the destructor of class ClxBase!åˆ†æžï¼š ä»Žä»¥ä¸Šç»“æžœå¯ä»¥å‘çŽ°ï¼ŒåŸºç±»æŒ‡é’ˆåœ¨æžæž„æ—¶ï¼Œä¼šè°ƒç”¨åŸºç±»çš„æžæž„å‡½æ•°ï¼Œçºµç„¶å…¶æŒ‡å‘æ´¾ç”Ÿç±»ï¼Œä½†å…¶ä¾ç„¶ä¼šè°ƒç”¨åŸºç±»çš„æžæž„ï¼Œæ‰€ä»¥æ´¾ç”Ÿç±»ä¸­å¦‚æœ‰éœ€è¦é‡Šæ”¾çš„å†…å­˜ç©ºé—´ï¼Œåˆ™å¿…ç„¶å¾—ä¸åˆ°é‡Šæ”¾ï¼Œä»Žè€Œäº§ç”Ÿå†…å­˜æ³„æ¼ã€‚ ç¤ºä¾‹ç¨‹åºå››ï¼š 1234567891011121314151617181920class ClxBase&#123; public: ClxBase() &#123;&#125;; virtual ~ClxBase() &#123;cout &lt;&lt; "Output from the destructor of class ClxBase!" &lt;&lt; endl;&#125;; virtual void DoSomething() &#123; cout &lt;&lt; "Do something in class ClxBase!" &lt;&lt; endl; &#125;; &#125;; class ClxDerived : public ClxBase&#123; public: ClxDerived() &#123;&#125;; ~ClxDerived() &#123; cout &lt;&lt; "Output from the destructor of class ClxDerived!" &lt;&lt; endl; &#125;; void DoSomething() &#123; cout &lt;&lt; "Do something in class ClxDerived!" &lt;&lt; endl; &#125;; &#125;; int main()&#123; ClxBase *p = new ClxDerived; p-&gt;DoSomething(); delete p; return 0; &#125; è¿è¡Œç»“æžœï¼š Do something in class ClxDerived! Output from the destructor of class ClxDerived! Output from the destructor of class ClxBase!åˆ†æžï¼š ä»¥ä¸Šç»“æžœå¯ä»¥å‘çŽ°ï¼Œä¸ç®¡æ˜¯æ™®é€šæˆå‘˜å‡½æ•°è¿˜æ˜¯æžæž„å‡½æ•°ï¼Œåªæœ‰å®šä¹‰ä¸ºè™šå‡½æ•°ï¼Œæ‰èƒ½å¤Ÿåœ¨åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡æ—¶è°ƒç”¨æ‰€æŒ‡å‘å¯¹è±¡çš„å“åº”å‡½æ•°ï¼Œä»Žè€Œåœ¨å‡½æ•°æžæž„æ—¶èƒ½å¤Ÿæ­£ç¡®çš„deleteæŽ‰newå‡ºæ¥çš„å¯¹è±¡ï¼Œä¸äº§ç”Ÿå†…å­˜æ³„æ¼ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽè™šå‡½æ•°ä¸Žçº¯è™šå‡½æ•°çš„å‡ ç‚¹å°è®°]]></title>
    <url>%2F2019%2F08%2F12%2F%E5%85%B3%E4%BA%8E%E8%99%9A%E5%87%BD%E6%95%B0%E4%B8%8E%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E7%9A%84%E5%87%A0%E7%82%B9%E5%B0%8F%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[å…³äºŽè™šå‡½æ•°ä¸Žçº¯è™šå‡½æ•°çš„å‡ ç‚¹è™šå‡½æ•°è™šå‡½æ•°çš„å…³é”®å­—æ˜¯virtualè™šå‡½æ•°æ˜¯æä¾›ä¸€ç§â€œæŽ¨è¿Ÿè”ç¼–â€æˆ–è€…â€œåŠ¨æ€è”ç¼–â€çš„åŠŸèƒ½ï¼Œæ¥å®žçŽ°å¤šæ€æ€§ï¼Œå½¢æˆè™šæŒ‡é’ˆã€‚è™šå‡½æ•°çš„è°ƒç”¨å¹¶ä¸æ˜¯åœ¨ç¼–è¯‘æ—¶åˆ»è¢«ç¡®å®šçš„ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶åˆ»è¢«ç¡®å®šçš„ã€‚ ä¸€ä¸ªä»£ç ç¤ºåˆ—ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;using namespace std;class Base1&#123;public: virtual void display()const;&#125;;void Base1::display()const&#123; cout&lt;&lt;"Base1::display()"&lt;&lt;endl;&#125;class Base2:public Base1&#123;public: void display()const;&#125;;void Base2::display()const&#123; cout&lt;&lt;"Base2::display()"&lt;&lt;endl;&#125;class Derived:public Base1&#123;public: void display()const;&#125;;void Derived::display()const&#123; cout&lt;&lt;"Derived::display()"&lt;&lt;endl;&#125;void fun(Base1 *ptr)&#123; ptr-&gt;display();&#125;int main()&#123; Base1 base1; Base2 base2; Derived derived; fun(&amp;base1); fun(&amp;base2); fun(&amp;derived); return 0;&#125; è¿è¡Œç»“æžœï¼š 1234Base1::display()Base2::display()Derived::display()Program ended with exit code: 0 çº¯è™šå‡½æ•°çº¯è™šå‡½æ•°æ˜¯åœ¨åŸºç±»ä¸­å£°æ˜Žçš„è™šå‡½æ•°ï¼Œå®ƒåœ¨åŸºç±»ä¸­æ²¡æœ‰å®šä¹‰ï¼Œæ‰€ä»¥ä¸èƒ½å®žä¾‹åŒ–ä¸èƒ½äº§ç”Ÿå¯¹è±¡ã€‚åœ¨åŸºç±»ä¸­å®žçŽ°çº¯è™šå‡½æ•°çš„æ–¹æ³•æ˜¯åœ¨å‡½æ•°åŽŸåž‹åŽåŠ â€œ=0â€ virtual void funtion1()=0å…¶ä¸­è™šå‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯ï¼šä½¿åŸºç±»ä¸­çš„çº¯è™šå‡½æ•°ä»…ä»…åªæ˜¯ç»§æ‰¿å‡½æ•°çš„ä¸€ä¸ªæŽ¥å£ã€‚å…¶ä¸­å«æœ‰çº¯è™šå‡½æ•°çš„ç±»è¢«ç§°ä¸ºæŠ½è±¡ç±»ï¼Œè‹¥æŠ½è±¡ç±»åœ¨ç»§æ‰¿ä¸­çº¯è™šå‡½æ•°è¿˜æ˜¯æ²¡æœ‰è¢«å®žçŽ°åˆ™è¿˜æ˜¯æŠ½è±¡ç±»æŠ½è±¡ç±»çš„ä½œç”¨ï¼šäº§ç”Ÿä¸€ä¸ªæŽ¥å£è¢«æ´¾ç”Ÿç±»ç»§æ‰¿ 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;using namespace std;class Base1&#123;public: virtual void display() const=0;&#125;;class Base2:public Base1&#123;public: void display() const;&#125;;void Base2::display()const&#123; cout&lt;&lt;"Base2::display()"&lt;&lt;endl;&#125;class Derived:public Base2&#123;public: void display()const;&#125;;void Derived::display()const&#123; cout&lt;&lt;"Derivd::display()"&lt;&lt;endl;&#125;void fun(Base1 *ptr)&#123; ptr-&gt;display();&#125;int main()&#123; Base2 base2; Derived derived; fun(&amp;base2); fun(&amp;derived); return 0;&#125; è¿è¡Œç»“æžœ 123Base2::display()Derivd::display()Program ended with exit code: 0 è¯¦æƒ…è¯·çœ‹ https://blog.csdn.net/wang13342322203/article/details/80512330]]></content>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆPythonå¤šè¿›ç¨‹ä¸Žå¤šçº¿ç¨‹]]></title>
    <url>%2F2019%2F08%2F12%2F%E6%B5%85%E8%B0%88Python%E5%A4%9A%E8%BF%9B%E7%A8%8B%E4%B8%8E%E5%A4%9A%E7%BA%BF%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[æµ…è°ˆPythonå¤šè¿›ç¨‹ä¸Žå¤šçº¿ç¨‹@[toc] ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Œä»€ä¹ˆæ˜¯çº¿ç¨‹è¿›ç¨‹è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œè¿‡ç¨‹ï¼Œå®ƒå¯¹åº”äº†ä»Žä»£ç åŠ è½½ã€æ‰§è¡Œåˆ°æ‰§è¡Œå®Œæ¯•çš„ä¸€ä¸ªå®Œæ•´è¿‡ç¨‹ã€‚è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼Œè¿›ç¨‹æœ‰è‡ªå·±çš„ç‹¬ç«‹åœ°å€ç©ºé—´ï¼Œæ¯å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œç³»ç»Ÿå°±ä¼šä¸ºå®ƒåˆ†é…åœ°å€ç©ºé—´ï¼Œå»ºç«‹æ•°æ®è¡¨æ¥ç»´æŠ¤ä»£ç æ®µã€å †æ ˆæ®µå’Œæ•°æ®æ®µï¼Œè¿™ç§æ“ä½œéžå¸¸æ˜‚è´µä¸€ä¸ªè¿›ç¨‹è‹¥ä¸å­˜åœ¨å¤šçº¿ç¨‹åˆ™ç›¸å½“äºŽçº¿ç¨‹ çº¿ç¨‹çº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½ï¼Œæ¯ä¸ªçº¿ç¨‹ä¸­å¯ä»¥å®žçŽ°èµ„æºçš„å…±äº«ã€é€šä¿¡ç­‰æ“ä½œï¼Œ ä½†çº¿ç¨‹ä¹‹é—´å…±äº«æ•°æ®æœ€å¤§çš„å±é™©åœ¨äºŽå¤šä¸ªçº¿ç¨‹åŒæ—¶æ”¹ä¸€ä¸ªå˜é‡ï¼ŒæŠŠå†…å®¹ç»™æ”¹ä¹±äº†ã€‚ ä¸¤è€…çš„åŒºåˆ« è¿›ç¨‹ çº¿ç¨‹ ç›¸åŒç‚¹ ä¸¤è€…éƒ½æ˜¯å®žçŽ°å¤šä¸ªä»»åŠ¡åŒæ—¶è¿è¡Œçš„æ–¹å¼ ä¸åŒç‚¹ è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„èµ„æºï¼Œè¿›ç¨‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸æ‰“æ‰°ï¼Œä½†çº¿ç¨‹ä¹‹é—´æ›´å®¹æ˜“å®žçŽ°å…±äº«ï¼ŒåŒæ—¶å¤šè¿›ç¨‹ç¨‹åºæ›´å¥å£®ï¼Œå¤šçº¿ç¨‹ç¨‹åºåªè¦æœ‰ä¸€ä¸ªçº¿ç¨‹æ­»æŽ‰ï¼Œæ•´ä¸ªè¿›ç¨‹ä¹Ÿæ­»æŽ‰äº†ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹æ­»æŽ‰å¹¶ä¸ä¼šå¯¹å¦å¤–ä¸€ä¸ªè¿›ç¨‹é€ æˆå½±å“ï¼Œå› ä¸ºè¿›ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹çš„åœ°å€ç©ºé—´ã€‚ å¤šè¿›ç¨‹åœ¨Unixä¸ŽLinuxä¸­ç³»ç»Ÿæ”¯æŒfork()ï¼Œä½†åœ¨æˆ‘ä»¬å¸¸è§çš„ç³»ç»Ÿä¸­ä¸å®¹è®¸Windowså¯ä»¥ä½¿ç”¨ï¼Œä½†Mac OS Xä¸ŽLinuxå¯ä»¥ä½¿ç”¨,ä½†Pythonæ˜¯ä¸€é—¨å¯ä»¥è·¨å¹³å°çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¯¹ä»»æ„ç³»ç»Ÿéƒ½æ”¯æŒmultiprocessing å…¶ä¸­ï¼šos.getpid() èŽ·å–å½“å‰è¿›ç¨‹çš„PIDå·os.getppid() èŽ·å–å½“å‰è¿›ç¨‹çˆ¶è¿›ç¨‹çš„PIDå· ä»£ç å®žçŽ°Mac OS Xä¸‹ä½¿ç”¨forkï¼ˆï¼‰åˆ›å»ºå­è¿›ç¨‹fork()è¯­æ³•ï¼š åŠŸèƒ½ï¼šä¸ºå½“å‰è¿›ç¨‹åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ å‚æ•°ï¼šæ—  è¿”å›žå€¼ï¼š0 å’Œ å­è¿›ç¨‹PIDï¼ˆåœ¨çˆ¶è¿›ç¨‹ä¸­ï¼‰ &lt; 0 å­è¿›ç¨‹åˆ›å»ºå¤±è´¥ = 0 åœ¨å­è¿›ç¨‹ä¸­çš„è¿”å›žå€¼ &gt; 0 åœ¨çˆ¶è¿›ç¨‹ä¸­çš„è¿”å›žå€¼ fork()å¾ˆç‰¹æ®Šï¼Œå®ƒæ˜¯ä¸€ä¸ªè°ƒç”¨ä¸€æ¬¡ï¼Œè¿”å›žä¸¤æ¬¡çš„å‡½æ•°å­è¿›ç¨‹æ°¸è¿œè¿”å›ž0ï¼Œè€Œçˆ¶è¿›ç¨‹è¿”å›žå­è¿›ç¨‹çš„ID,æ‰€ä»¥ä¸€ä¸ªçˆ¶è¿›ç¨‹å¯ä»¥forkå‡ºå¾ˆå¤šå­è¿›ç¨‹ï¼Œæ‰€ä»¥ï¼Œçˆ¶è¿›ç¨‹è¦è®°ä¸‹æ¯ä¸ªå­è¿›ç¨‹çš„IDï¼Œè€Œå­è¿›ç¨‹åªéœ€è¦è°ƒç”¨getppid()å°±å¯ä»¥æ‹¿åˆ°çˆ¶è¿›ç¨‹çš„IDã€‚ 12345678910111213# -*- coding:utf-8 -*-#ï¼usr/bin/env pythonimport os# fork()å±žäºŽç³»ç»Ÿå†…å»ºå‡½æ•°ï¼Œéœ€ä»ŽOSæ¨¡å—å¼•å…¥print 'process (%s) strat...' %os.getpid()pid = os.fork()# è°ƒç”¨ä¸€æ¬¡ï¼Œè¿”å›žä¸¤æ¬¡if pid == 0:# åˆ¤æ–­æ˜¯å¦ä¸ºå­è¿›ç¨‹ print "I'm child process (%s) and my parent is %s" %(os.getpid(),os.getppid())else: print "I (%s) just created a child process (%s)." %(os.getpid(),pid) è¾“å‡º 123process (58196) strat...I (58196) just created a child process (58198).I&apos;m child process (58198) and my parent is 58196 ä½¿ç”¨multiprocessingç”±äºŽwindowsä¸å¯ä»¥ä½¿ç”¨forkï¼ˆï¼‰ï¼Œä½†pythonä¸ºæ‰€æœ‰æ“ä½œç³»ç»Ÿå‡†å¤‡äº†multiprocessä¾›å®ƒä»¬åˆ›å»ºå­çº¿ç¨‹ åˆ›å»ºå­è¿›ç¨‹æ—¶ï¼Œåªéœ€è¦ä¼ å…¥ä¸€ä¸ªæ‰§è¡Œå‡½æ•°å’Œå‡½æ•°çš„å‚æ•°ï¼Œåˆ›å»ºä¸€ä¸ªProcesså®žä¾‹ï¼Œç”¨start()æ–¹æ³•å¯åŠ¨ï¼Œè¿™æ ·åˆ›å»ºè¿›ç¨‹æ¯”fork()è¿˜è¦ç®€å•ã€‚join()æ–¹æ³•å¯ä»¥ç­‰å¾…å­è¿›ç¨‹ç»“æŸåŽå†ç»§ç»­å¾€ä¸‹è¿è¡Œï¼Œé€šå¸¸ç”¨äºŽè¿›ç¨‹é—´çš„åŒæ­¥ã€‚ 1234567891011121314151617181920212223# -*- coding:utf-8 -*-#ï¼usr/bin/env pythonfrom multiprocessing import Process# ä»Žmultiprocessingæ¨¡å—å¼•å…¥Processimport osdef fun(name): print 'Run child process %s(%s)...'%(name,os.getpid()) # æ‰“å°å½“å‰è¿›ç¨‹if __name__=='__main__': # è‹¥åœ¨æœ¬æ¨¡å—è¿è¡Œæ—¶ print 'Parent process %s.'%os.getpid() # æ‰“å°çˆ¶è¿›ç¨‹ p = Process(target=fun,args=('test',)) # åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ print 'Process will start.' p.start() # å¼€å§‹è¿è¡Œå­è¿›ç¨‹ p.join() # åœæ­¢è¿è¡Œå­è¿›ç¨‹ print 'Process end' è¾“å‡º 1234Parent process 61028.Process will start.Run child process test(61029)...Process end è¿›ç¨‹æ± å¦‚æžœè¦å¯åŠ¨å¤§é‡çš„å­è¿›ç¨‹ï¼Œå¯ä»¥ç”¨è¿›ç¨‹æ± çš„æ–¹å¼æ‰¹é‡åˆ›å»ºå­è¿›ç¨‹ï¼š å…³é”®å­—ä¸ºpollï¼ŒPoolçš„é»˜è®¤å¤§å°æ˜¯CPUçš„æ ¸æ•°ï¼›ä½†å®ƒä¹Ÿå¯ä»¥è®¾ç½®å‚æ•°å¦‚æžœä¸ºpoolï¼ˆ5ï¼‰åˆ™æ˜¯ç”³è¯·æœ‰5ä¸ªå­è¿›ç¨‹çš„è¿›ç¨‹æ± æ³¨æ„ï¼šå¯¹Poolå¯¹è±¡è°ƒç”¨join()æ–¹æ³•ä¼šç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œè°ƒç”¨join()ä¹‹å‰å¿…é¡»å…ˆè°ƒç”¨close()ï¼Œè°ƒç”¨close()ä¹‹åŽå°±ä¸èƒ½ç»§ç»­æ·»åŠ æ–°çš„Processäº†ã€‚ 12345678910111213141516171819202122232425# -*- coding:utf-8 -*-#ï¼usr/bin/env pythonfrom multiprocessing import Pool# ä»Žmultiprocessæ¨¡å—å¼•å…¥Poolimport os,time,randomdef long_time_task(name): print 'Run task%s(%s)' % (name, os.getpid()) start = time.time() time.sleep(random.random()*3) # random.randomï¼ˆï¼‰äº§ç”Ÿä¸€ä¸ª0ï½ž1çš„éšæœºæ•° end = time.time() print 'Task %s runs %0.2f seconds' % (name, (end-start)) # è¾“å‡ºä»»åŠ¡åä¸Žè¿è¡Œæ—¶é—´å·® if __name__ == '__main__': print 'Parent process %s.' % os.getpid() p = Pool() # ç”Ÿæˆä¸€ä¸ªè¿›ç¨‹æ±  for i in range(5): p.apply_async(long_time_task, args=(i,)) print 'Waiting for all subprocesses done...' p.close() p.join() print 'All subprocess done' è¾“å‡º 1234567891011121314Parent process 66221.Waiting for all subprocesses done...Run task0(66223)Run task1(66224)Run task2(66225)Run task3(66226)Task 1 runs 0.69 secondsRun task4(66224)Task 4 runs 0.91 secondsTask 2 runs 1.97 secondsTask 3 runs 2.19 secondsTask 0 runs 3.00 secondsAll subprocess done3.03261709213 å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯4æ ¸å¤„ç†å™¨ï¼Œæ‰€ä»¥task 4è¦ç­‰å¾…å‰é¢æŸä¸ªtaskå®ŒæˆåŽæ‰æ‰§è¡Œ å¤šè¿›ç¨‹çš„é€šä¿¡multiprocessing.Queue()Queueæ˜¯å¤šè¿›ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨Queueå®žçŽ°å¤šè¿›ç¨‹ä¹‹é—´çš„æ•°æ®ä¼ é€’ã€‚putæ–¹æ³•ç”¨ä»¥æ’å…¥æ•°æ®åˆ°é˜Ÿåˆ—ä¸­ï¼Œputæ–¹æ³•è¿˜æœ‰ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼šblockedå’Œtimeoutã€‚å¦‚æžœblockedä¸ºTrueï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå¹¶ä¸”timeoutä¸ºæ­£å€¼ï¼Œè¯¥æ–¹æ³•ä¼šé˜»å¡žtimeoutæŒ‡å®šçš„æ—¶é—´ï¼Œç›´åˆ°è¯¥é˜Ÿåˆ—æœ‰å‰©ä½™çš„ç©ºé—´ã€‚å¦‚æžœè¶…æ—¶ï¼Œä¼šæŠ›å‡ºQueue.Fullå¼‚å¸¸ã€‚å¦‚æžœblockedä¸ºFalseï¼Œä½†è¯¥Queueå·²æ»¡ï¼Œä¼šç«‹å³æŠ›å‡ºQueue.Fullå¼‚å¸¸ã€‚ getæ–¹æ³•å¯ä»¥ä»Žé˜Ÿåˆ—è¯»å–å¹¶ä¸”åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚åŒæ ·ï¼Œgetæ–¹æ³•æœ‰ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼šblockedå’Œtimeoutã€‚å¦‚æžœblockedä¸ºTrueï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå¹¶ä¸”timeoutä¸ºæ­£å€¼ï¼Œé‚£ä¹ˆåœ¨ç­‰å¾…æ—¶é—´å†…æ²¡æœ‰å–åˆ°ä»»ä½•å…ƒç´ ï¼Œä¼šæŠ›å‡ºQueue.Emptyå¼‚å¸¸ã€‚å¦‚æžœblockedä¸ºFalseï¼Œæœ‰ä¸¤ç§æƒ…å†µå­˜åœ¨ï¼Œå¦‚æžœQueueæœ‰ä¸€ä¸ªå€¼å¯ç”¨ï¼Œåˆ™ç«‹å³è¿”å›žè¯¥å€¼ï¼Œå¦åˆ™ï¼Œå¦‚æžœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™ç«‹å³æŠ›å‡ºQueue.Emptyå¼‚å¸¸ ä»¥Queueä¸ºä¾‹ï¼Œåœ¨çˆ¶è¿›ç¨‹ä¸­åˆ›å»ºä¸¤ä¸ªå­è¿›ç¨‹ï¼Œä¸€ä¸ªå¾€Queueé‡Œå†™æ•°æ®ï¼Œä¸€ä¸ªä»ŽQueueé‡Œè¯»æ•°æ®ï¼š ==multiprcessing.Queue.put() ä¸º å…¥é˜Ÿæ“ä½œ== ==multiprcessing.Queue.get() ä¸º å‡ºé˜Ÿæ“ä½œ== 1234567891011121314151617181920212223242526# -*- coding:utf-8 -*-#ï¼usr/bin/env pythonimport multiprocessingdef writer_proc(q): try: q.put(1, block = False) except: pass def reader_proc(q): try: print q.get(block = False) except: passif __name__ == "__main__": q = multiprocessing.Queue() writer = multiprocessing.Process(target=writer_proc, args=(q,)) writer.start() reader = multiprocessing.Process(target=reader_proc, args=(q,)) reader.start() reader.join() writer.join() multiprocessing.Pipe()Pipeæ–¹æ³•è¿”å›ž(conn1, conn2)ä»£è¡¨ä¸€ä¸ªç®¡é“çš„ä¸¤ä¸ªç«¯ã€‚Pipeæ–¹æ³•æœ‰duplexå‚æ•°ï¼Œå¦‚æžœduplexå‚æ•°ä¸ºTrue(é»˜è®¤å€¼)ï¼Œé‚£ä¹ˆè¿™ä¸ªç®¡é“æ˜¯å…¨åŒå·¥æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯è¯´conn1å’Œconn2å‡å¯æ”¶å‘ã€‚duplexä¸ºFalseï¼Œconn1åªè´Ÿè´£æŽ¥å—æ¶ˆæ¯ï¼Œconn2åªè´Ÿè´£å‘é€æ¶ˆæ¯ã€‚ sendå’Œrecvæ–¹æ³•åˆ†åˆ«æ˜¯å‘é€å’ŒæŽ¥å—æ¶ˆæ¯çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œåœ¨å…¨åŒå·¥æ¨¡å¼ä¸‹ï¼Œå¯ä»¥è°ƒç”¨conn1.sendå‘é€æ¶ˆæ¯ï¼Œconn1.recvæŽ¥æ”¶æ¶ˆæ¯ã€‚å¦‚æžœæ²¡æœ‰æ¶ˆæ¯å¯æŽ¥æ”¶ï¼Œrecvæ–¹æ³•ä¼šä¸€ç›´é˜»å¡žã€‚å¦‚æžœç®¡é“å·²ç»è¢«å…³é—­ï¼Œé‚£ä¹ˆrecvæ–¹æ³•ä¼šæŠ›å‡ºEOFErrorã€‚ 1234567891011121314151617181920212223242526272829303132# -*- coding:utf-8 -*-#ï¼usr/bin/env pythonimport multiprocessingimport timedef proc1(pipe): while True: for i in range(10): print "send: %s" %(i) pipe.send(i) # å‘pipeä¸­å‘é€iå€¼ time.sleep(1)def proc2(pipe): while True: print "proc2 rev:", pipe.recv() # æŽ¥å—iå€¼ time.sleep(1)if __name__ == "__main__": pipe = multiprocessing.Pipe() # ç”³è¯·ä¸€ä¸ªpipe p1 = multiprocessing.Process(target=proc1, args=(pipe[0],)) p2 = multiprocessing.Process(target=proc2, args=(pipe[1],)) # ç”Ÿæˆä¸¤ä¸ªå­è¿›ç¨‹p1ï¼Œp2 p1.start() p2.start() # å¼€å§‹æ‰§è¡Œè¿›ç¨‹ p1.join() p2.join() # ç»“æŸè¿›ç¨‹ å¤šçº¿ç¨‹Pythonçš„æ ‡å‡†åº“æä¾›äº†ä¸¤ä¸ªæ¨¡å—ï¼šthreadå’Œthreadingï¼Œthreadæ˜¯ä½Žçº§æ¨¡å—ï¼Œthreadingæ˜¯é«˜çº§æ¨¡å—ï¼Œå¯¹threadè¿›è¡Œäº†å°è£…ã€‚ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨threadingè¿™ä¸ªé«˜çº§æ¨¡å—ã€‚ ä»£ç å®žçŽ° å•çº¿ç¨‹ 1234567891011121314151617#-*- coding:utf-8 -*-#ï¼usr/bin/env pythonimport timedef fun1(): for i in range(3): print 'æˆ‘åœ¨çœ‹ä¹¦',time.ctime() time.sleep(1)def fun2(): for i in range(3): print "æˆ‘åœ¨å¬æ­Œ",time.ctime() time.sleep(1)fun1()fun2() è¾“å‡º 123456æˆ‘åœ¨çœ‹ä¹¦ Fri Aug 9 22:34:41 2019æˆ‘åœ¨çœ‹ä¹¦ Fri Aug 9 22:34:42 2019æˆ‘åœ¨çœ‹ä¹¦ Fri Aug 9 22:34:43 2019æˆ‘åœ¨å¬æ­Œ Fri Aug 9 22:34:44 2019æˆ‘åœ¨å¬æ­Œ Fri Aug 9 22:34:45 2019æˆ‘åœ¨å¬æ­Œ Fri Aug 9 22:34:46 2019 å¤šçº¿ç¨‹è¾“å‡º 1234567891011121314151617181920212223242526#-*- coding:utf-8 -*-#ï¼usr/bin/env pythonimport timeimport threadingdef fun1(): for i in range(3): print 'æˆ‘åœ¨çœ‹ä¹¦',time.ctime() time.sleep(1)def fun2(): for i in range(3): print "æˆ‘åœ¨å¬æ­Œ",time.ctime() time.sleep(1)p1 = threading.Thread(target=fun1)# åˆ›å»ºä¸€ä¸ªçº¿ç¨‹p1p2 = threading.Thread(target=fun2)# åˆ›å»ºä¸€ä¸ªçº¿ç¨‹p2p1.start()p2.start()# æ‰§è¡Œçº¿ç¨‹p1.join()p2.join()# ç»“æŸçº¿ç¨‹ 123456æˆ‘åœ¨çœ‹ä¹¦ Fri Aug 9 22:37:44 2019æˆ‘åœ¨å¬æ­Œ Fri Aug 9 22:37:44 2019æˆ‘åœ¨çœ‹ä¹¦ Fri Aug 9 22:37:45 2019æˆ‘åœ¨å¬æ­Œ Fri Aug 9 22:37:45 2019æˆ‘åœ¨å¬æ­Œ Fri Aug 9 22:37:46 2019æˆ‘åœ¨çœ‹ä¹¦ Fri Aug 9 22:37:46 2019 çº¿ç¨‹é€šä¿¡ç”±äºŽçº¿ç¨‹é€šä¿¡é€ æˆçš„æ··ä¹±å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºŽï¼Œå¤šè¿›ç¨‹ä¸­ï¼ŒåŒä¸€ä¸ªå˜é‡ï¼Œå„è‡ªæœ‰ä¸€ä»½æ‹·è´å­˜åœ¨äºŽæ¯ä¸ªè¿›ç¨‹ä¸­ï¼Œäº’ä¸å½±å“ï¼Œè€Œå¤šçº¿ç¨‹ä¸­ï¼Œæ‰€æœ‰å˜é‡éƒ½ç”±æ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œæ‰€ä»¥ï¼Œä»»ä½•ä¸€ä¸ªå˜é‡éƒ½å¯ä»¥è¢«ä»»ä½•ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹ï¼Œå› æ­¤ï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«æ•°æ®æœ€å¤§çš„å±é™©åœ¨äºŽå¤šä¸ªçº¿ç¨‹åŒæ—¶æ”¹ä¸€ä¸ªå˜é‡ï¼ŒæŠŠå†…å®¹ç»™æ”¹ä¹±äº† 1234567891011121314151617181920#-*- coding:utf-8 -*-#ï¼usr/bin/env pythonimport timeimport threadingcount = 5def fun(n): global count for i in range(5): count += n time.sleep(1) count -= n print countp1 = threading.Thread(target=fun,args=(5,))p2 = threading.Thread(target=fun,args=(3,))p1.start()p2.start() è¾“å‡º 123456789105 810810858105 è§£å†³æ–¹æ¡ˆåœ¨Pythonä¸­æä¾›äº†å…³é”®å­—lockæ¥é˜²æ­¢ç”±äºŽçº¿ç¨‹é€šä¿¡é€ æˆçš„æ··ä¹±ã€‚ç”±äºŽé”ï¼ˆlockï¼‰åªæœ‰ä¸€ä¸ªï¼Œæ— è®ºå¤šå°‘çº¿ç¨‹ï¼ŒåŒä¸€æ—¶åˆ»æœ€å¤šåªæœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰è¯¥é”ï¼Œæ‰€ä»¥ï¼Œä¸ä¼šé€ æˆä¿®æ”¹çš„å†²çªã€‚æ‰€ä»¥èŽ·å¾—lockçš„çº¿ç¨‹å°†ä¼šä¼˜å…ˆæ‰§è¡Œã€‚æ‰€ä»¥lockä¼šä½¿å„ä¸ªçº¿ç¨‹ä¾æ¬¡æ‰§è¡Œã€‚ä½†ä½¿ç”¨lockæ—¶ï¼Œthreading.Lock()ï¼Œè¦æ³¨æ„èŽ·å–å’Œé‡Šæ”¾é”ï¼Œ lock.acquire()ã€ lock.release() ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132#-*- coding:utf-8 -*-#ï¼usr/bin/env pythonimport threadingdef fun1(): global A, lock lock.acquire() for i in range(10): A += 1 print "Thread-1", A lock.release()def fun2(): global A, lock lock.acquire() for i in range(10): A += 10 print "Thread-2", A lock.release()if __name__ == '__main__': lock = threading.Lock() A = 0 t1 = threading.Thread(target=fun1) t2 = threading.Thread(target=fun2) t1.start() t2.start() t1.join() t2.join() è¾“å‡º 1234567891011121314151617181920Thread-1 1Thread-1 2Thread-1 3Thread-1 4Thread-1 5Thread-1 6Thread-1 7Thread-1 8Thread-1 9Thread-1 10Thread-2 20Thread-2 30Thread-2 40Thread-2 50Thread-2 60Thread-2 70Thread-2 80Thread-2 90Thread-2 100Thread-2 110]]></content>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2019%2F08%2F12%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
